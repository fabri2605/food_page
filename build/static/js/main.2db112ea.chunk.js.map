{"version":3,"sources":["components/Cart/Cart.module.css","components/Layout/HeaderCartButton.module.css","components/Cart/CartItem.module.css","components/Layout/Header.module.css","components/Meals/MealItem/MealItem.module.css","components/UI/Modal.module.css","components/Meals/MealsSummary.module.css","components/UI/Card.module.css","components/UI/Input.module.css","components/Meals/MealItem/MealItemForm.module.css","components/Meals/AvailableMeals.module.css","components/UI/Filter.module.css","components/Cart/CartIcon.js","store/cart-context.js","components/Layout/HeaderCartButton.js","assets/meals.jpg","components/Layout/Header.js","components/Meals/MealsSummary.js","components/UI/Card.js","components/UI/Input.js","components/Meals/MealItem/MealItemForm.js","components/Meals/MealItem/MealItem.js","components/UI/Filter.js","components/Meals/AvailableMeals.js","components/Meals/Meals.js","components/UI/Modal.js","components/Cart/CartItem.js","components/Cart/Checkout.js","components/Cart/Cart.js","store/CartProvider.js","store/OrdersCart.js","App.js","index.js"],"names":["module","exports","CartIcon","props","icon","xmlns","viewBox","fill","d","className","CartContext","React","createContext","items","totalAmount","addItem","item","removeItem","id","clearItems","HeaderCartButton","useState","btnIsHighlighted","setBtnIsHighlighted","useContext","numberOfCartItems","reduce","curNumber","amount","btnClasses","classes","button","bump","useEffect","length","timer","setTimeout","clearTimeout","onClick","onOrders","optional","badge","Header","header","onShowOrders","onShowCart","src","mealsImage","alt","MealsSummary","summary","Card","card","children","Input","forwardRef","ref","input","htmlFor","label","MealItemForm","amountIsValid","setAmountIsValid","amountInputRef","useRef","form","onSubmit","event","preventDefault","enteredAmount","current","value","enteredAmountNumber","trim","onAddToCart","type","min","max","step","defaultValue","MealItem","cartCtx","price","toFixed","meal","name","description","Filter","showing","setShowing","filterBy","filter","onChange","e","target","AvailableMeals","DUMMY_MEALS","setDummys","filteredMeals","setFilteredMeals","isLoading","setIsLoading","hasError","setHasError","a","fetch","process","response","ok","json","key","data","fetchedMeals","push","useCallback","fetchingMeals","catch","error","message","mealsList","map","meals","console","log","Meals","Backdrop","backdrop","onClose","ModalOverlay","modal","content","portalElement","document","getElementById","Modal","ReactDOM","createPortal","CartItem","changable","actions","onRemove","onAdd","Checkout","setName","street","setStreet","postal","setPostal","city","setCity","formIsTouched","setFormIsTouched","onConfirm","inputGroup","onCancel","Cart","orderWasSent","setOrderWasSent","posted","setPosted","hasItems","cartItemRemoveHandler","cartItemAddHandler","itemChanged","cartItems","bind","user","order","Date","now","method","body","JSON","stringify","headers","sent","total","defaultCartState","cartReducer","state","action","updatedItems","updatedTotalAmount","existingCartItemIndex","findIndex","existingCartItem","updatedItem","concat","existingItem","CartProvider","useReducer","cartState","dispatchCartAction","cartContext","Provider","OrdersCart","myOrders","setMyOrders","fetched","setFetched","loadedOrders","found","inputfetch","buttonf","App","cartIsShown","setCartIsShown","orderIsShown","setOrderIsShown","render"],"mappings":"qGACAA,EAAOC,QAAU,CAAC,WAAa,yBAAyB,aAAa,yBAAyB,KAAO,mBAAmB,MAAQ,oBAAoB,QAAU,sBAAsB,cAAc,0BAA0B,OAAS,qBAAqB,MAAQ,oBAAoB,WAAa,yBAAyB,QAAU,wB,iBCAtUD,EAAOC,QAAU,CAAC,OAAS,iCAAiC,KAAO,+BAA+B,MAAQ,gCAAgC,KAAO,+BAA+B,SAAW,qC,kBCA3LD,EAAOC,QAAU,CAAC,YAAY,4BAA4B,QAAU,0BAA0B,MAAQ,wBAAwB,OAAS,yBAAyB,QAAU,4B,kBCA1KD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,aAAa,2BAA2B,SAAW,2B,gBCArGD,EAAOC,QAAU,CAAC,KAAO,uBAAuB,YAAc,8BAA8B,MAAQ,0B,gBCApGD,EAAOC,QAAU,CAAC,SAAW,wBAAwB,MAAQ,qBAAqB,aAAa,4B,mBCA/FD,EAAOC,QAAU,CAAC,QAAU,gC,gBCA5BD,EAAOC,QAAU,CAAC,KAAO,qB,gBCAzBD,EAAOC,QAAU,CAAC,MAAQ,uB,gBCA1BD,EAAOC,QAAU,CAAC,KAAO,6B,gBCAzBD,EAAOC,QAAU,CAAC,MAAQ,8BAA8B,eAAe,uC,gBCAvED,EAAOC,QAAU,CAAC,OAAS,uBAAuB,QAAU,0B,uHCe7CC,EAhBE,SAACC,GACd,MAAmB,MAAfA,EAAMC,KAEF,qBACIC,MAAM,6BACNC,QAAQ,YACRC,KAAK,eAHT,SAKI,sBAAMC,EAAE,8RAIT,mBAAGC,UAAU,+BCFbC,EARKC,IAAMC,cAAc,CACtCC,MAAO,GACPC,YAAa,EACbC,QAAS,SAACC,KACVC,WAAY,SAACC,KACbC,WAAY,e,gBCgDCC,EAjDU,SAACjB,GACtB,MAAgDkB,oBAAS,GAAzD,mBAAOC,EAAP,KAAyBC,EAAzB,KAGQV,EAFQW,qBAAWd,GAEnBG,MAEFY,EAAoBZ,EAAMa,QAAO,SAACC,EAAWX,GAC/C,OAAOW,EAAYX,EAAKY,SACzB,GAEGC,EAAU,UAAMC,IAAQC,OAAd,YACZT,EAAmBQ,IAAQE,KAAO,IAkBtC,OAfAC,qBAAU,WACN,GAAqB,IAAjBpB,EAAMqB,OAAV,CAGAX,GAAoB,GAEpB,IAAMY,EAAQC,YAAW,WACrBb,GAAoB,KACrB,KAEH,OAAO,WACHc,aAAaF,OAElB,CAACtB,IAGA,eAAC,WAAD,WACI,yBAAQJ,UAAWoB,EAAYS,QAASnC,EAAMoC,SAA9C,UACI,sBAAM9B,UAAS,UAAKqB,IAAQ1B,KAAb,YAAqB0B,IAAQU,UAA5C,SACI,cAAC,EAAD,CAAUpC,KAAK,QAGnB,kDAEJ,yBAAQK,UAAWoB,EAAYS,QAASnC,EAAMmC,QAA9C,UACI,sBAAM7B,UAAS,UAAKqB,IAAQ1B,KAAb,YAAqB0B,IAAQU,UAA5C,SACI,cAAC,EAAD,CAAUpC,KAAK,QAEnB,6CACA,sBAAMK,UAAWqB,IAAQW,MAAzB,SAAiChB,WCjDlC,MAA0B,kC,iBCoB1BiB,EAdA,SAACvC,GACd,OACE,eAAC,WAAD,WACE,yBAAQM,UAAWqB,IAAQa,OAA3B,UACE,oBAAIlC,UAAWqB,IAAQU,SAAvB,wBACA,cAAC,EAAD,CAAkBD,SAAUpC,EAAMyC,aAAcN,QAASnC,EAAM0C,gBAEjE,qBAAKpC,UAAWqB,IAAQ,cAAxB,SACE,qBAAKgB,IAAKC,EAAYC,IAAI,0C,iBCInBC,EAhBM,WACnB,OACE,0BAASxC,UAAWqB,IAAQoB,QAA5B,UACE,kEACA,qJAIA,6I,+CCJSC,EAJF,SAAAhD,GACX,OAAO,qBAAKM,UAAWqB,IAAQsB,KAAxB,SAA+BjD,EAAMkD,Y,iBCU/BC,EATD3C,IAAM4C,YAAW,SAACpD,EAAOqD,GACrC,OACE,sBAAK/C,UAAWqB,IAAQ2B,MAAxB,UACE,uBAAOC,QAASvD,EAAMsD,MAAMvC,GAA5B,SAAiCf,EAAMwD,QACvC,mCAAOH,IAAKA,GAASrD,EAAMsD,c,iBCuClBG,EA1CM,SAACzD,GACpB,MAA0CkB,oBAAS,GAAnD,mBAAOwC,EAAP,KAAsBC,EAAtB,KACMC,EAAiBC,mBAoBvB,OACE,uBAAMvD,UAAWqB,IAAQmC,KAAMC,SAnBX,SAACC,GACrBA,EAAMC,iBAEN,IAAMC,EAAgBN,EAAeO,QAAQC,MACvCC,GAAuBH,EAGK,IAAhCA,EAAcI,OAAOvC,QACrBsC,EAAsB,GACtBA,EAAsB,EAEtBV,GAAiB,GAInB3D,EAAMuE,YAAYF,IAIlB,UACE,cAAC,EAAD,CACEhB,IAAKO,EACLJ,MAAM,SACNF,MAAO,CACLvC,GAAI,SACJyD,KAAM,SACNC,IAAK,IACLC,IAAK,IACLC,KAAM,IACNC,aAAc,OAGlB,4CACElB,GAAiB,uE,iBCRVmB,EA5BE,SAAC7E,GAChB,IAAM8E,EAAUzD,qBAAWd,GAErBwE,EAAK,WAAO/E,EAAM+E,MAAMC,QAAQ,IAWtC,OACE,qBAAI1E,UAAWqB,IAAQsD,KAAvB,UACE,gCACE,6BAAKjF,EAAMkF,OACX,qBAAK5E,UAAWqB,IAAQwD,YAAxB,SAAsCnF,EAAMmF,cAC5C,qBAAK7E,UAAWqB,IAAQoD,MAAxB,SAAgCA,OAElC,8BACE,cAAC,EAAD,CAAcR,YAjBK,SAAA9C,GACvBqD,EAAQlE,QAAQ,CACdG,GAAIf,EAAMe,GACVmE,KAAMlF,EAAMkF,KACZzD,OAAQA,EACRsD,MAAO/E,EAAM+E,iB,kCCUJK,MAvBf,SAAgBpF,GACZ,MAA8BkB,mBAAS,OAAvC,mBAAOmE,EAAP,KAAgBC,EAAhB,KAUA,OAJAxD,qBAAU,WACN9B,EAAMuF,SAASF,KAChB,CAACA,IAGA,qBAAK/E,UAAWqB,IAAQ6D,OAAxB,SACI,yBAAQpB,MAAOiB,EAASI,SAVV,SAACC,GACnBJ,EAAWI,EAAEC,OAAOvB,QAShB,UACI,wBAAQA,MAAM,MAAd,iBACA,wBAAQA,MAAM,OAAd,kBACA,wBAAQA,MAAM,OAAd,kBACA,wBAAQA,MAAM,SAAd,2BC2DDwB,EAzEQ,WACnB,MAAiCpF,IAAMU,SAAS,IAAhD,mBAAO2E,EAAP,KAAoBC,EAApB,KACA,EAA0CtF,IAAMU,SAAS2E,GAAzD,mBAAOE,EAAP,KAAsBC,EAAtB,KACA,EAAkCxF,IAAMU,UAAS,GAAjD,mBAAO+E,EAAP,KAAkBC,EAAlB,KACA,EAAgC1F,IAAMU,SAAS,IAA/C,mBAAOiF,EAAP,KAAiBC,EAAjB,KAJyB,4CAMzB,kCAAAC,EAAA,sEAC2BC,MACnBC,mEAFR,cACUC,EADV,QAIkBC,IACVL,EAAY,wBALpB,SAOuBI,EAASE,OAPhC,OASI,IAAWC,KAFLC,EAPV,OAQUC,EAAe,GACHD,EACdC,EAAaC,KAAb,2BAAuBF,EAAKD,IAA5B,IAAkC5F,GAAI4F,KAE1Cb,EAAUe,GACVb,EAAiBa,GACjBX,GAAa,GAdjB,6CANyB,sBAgCzB1F,IAAMsB,UACFtB,IAAMuG,aAAY,YAjCG,2CAkCjBC,GAAgBC,OAAM,SAACC,GACnBhB,GAAa,GACbE,EAAYc,EAAMC,eAG1B,IAGJ,IAAMC,EAAY5G,IAAMuG,YACpBhB,EAAcsB,KAAI,SAACpC,GAAD,OACd,cAAC,EAAD,CAEIlE,GAAIkE,EAAKlE,GACTmE,KAAMD,EAAKC,KACXC,YAAaF,EAAKE,YAClBJ,MAAOE,EAAKF,OAJPE,EAAKlE,OAOlB,CAACgF,IAGL,OACI,0BAASzF,UAAWqB,IAAQ2F,MAA5B,UACI,cAAC,EAAD,CAAQ/B,SAlCY,SAACf,GACzB+C,QAAQC,IAAIhD,GAERwB,EADS,QAATxB,EACiBqB,EAEAA,EAAYL,QAAO,SAACP,GAAD,OAAUA,EAAKT,OAASA,SA8B5D,cAAC,EAAD,UACM2B,EAOE,4BAAIA,IANJF,EACI,2CAEA,6BAAKmB,UCvDdK,EATD,WACZ,OACE,eAAC,WAAD,WACE,cAAC,EAAD,IACA,cAAC,EAAD,Q,iBCJAC,EAAW,SAAC1H,GAChB,OAAO,qBAAKM,UAAWqB,IAAQgG,SAAUxF,QAASnC,EAAM4H,WAGpDC,EAAe,SAAC7H,GACpB,OACE,qBAAKM,UAAWqB,IAAQmG,MAAxB,SACE,qBAAKxH,UAAWqB,IAAQoG,QAAxB,SAAkC/H,EAAMkD,cAKxC8E,EAAgBC,SAASC,eAAe,YAc/BC,EAZD,SAACnI,GACb,OACE,eAAC,WAAD,WACGoI,IAASC,aAAa,cAAC,EAAD,CAAUT,QAAS5H,EAAM4H,UAAaI,GAC5DI,IAASC,aACR,cAAC,EAAD,UAAerI,EAAMkD,WACrB8E,O,gBCDOM,EAtBE,SAACtI,GACd,IAAM+E,EAAK,WAAO/E,EAAM+E,MAAMC,QAAQ,IAEtC,OACI,qBAAI1E,UAAWqB,IAAQ,aAAvB,UACI,gCACI,6BAAK3B,EAAMkF,OACX,sBAAK5E,UAAWqB,IAAQoB,QAAxB,UACI,sBAAMzC,UAAWqB,IAAQoD,MAAzB,SAAiCA,IACjC,uBAAMzE,UAAWqB,IAAQF,OAAzB,eAAoCzB,EAAMyB,gBAGjDzB,EAAMuI,WACH,sBAAKjI,UAAWqB,IAAQ6G,QAAxB,UACI,wBAAQrG,QAASnC,EAAMyI,SAAvB,oBACA,wBAAQtG,QAASnC,EAAM0I,MAAvB,sB,iBC8HLC,GA5IE,SAAC3I,GACd,MAAwBQ,IAAMU,SAAS,IAAvC,mBAAOgE,EAAP,KAAa0D,EAAb,KACA,EAA4BpI,IAAMU,SAAS,IAA3C,mBAAO2H,EAAP,KAAeC,EAAf,KACA,EAA4BtI,IAAMU,SAAS,GAA3C,mBAAO6H,EAAP,KAAeC,EAAf,KACA,EAAwBxI,IAAMU,SAAS,IAAvC,mBAAO+H,EAAP,KAAaC,EAAb,KACA,EAA0C1I,IAAMU,UAAS,GAAzD,mBAAOiI,EAAP,KAAsBC,EAAtB,KACA,EAAgC5I,IAAMU,SAAS,CAC3CgE,MAAM,EACN2D,QAAQ,EACRE,QAAQ,EACRE,MAAM,IAJV,mBAAO9C,EAAP,KAAiBC,EAAjB,KA4EA,OACI,uBAAMrC,SA3Be,SAAC2B,GACtBA,EAAEzB,iBACGkF,GAUiB,IAAlBhD,EAASjB,OACW,IAApBiB,EAAS0C,SACW,IAApB1C,EAAS4C,SACS,IAAlB5C,EAAS8C,MAETjJ,EAAMqJ,UAAU,CACZnE,KAAMA,EACN2D,OAAQA,EACRE,OAAQA,EACRE,KAAMA,IAlBV7C,EAAY,CACRlB,MAAM,EACN2D,QAAQ,EACRE,QAAQ,EACRE,MAAM,KAoBd,UACI,sBAAK3I,UAAWqB,KAAQ2H,WAAxB,UACI,yCACA,uBACI7D,SA1ES,SAACC,GACtB0D,GAAiB,GACjBR,EAAQlD,EAAEC,OAAOvB,OACbsB,EAAEC,OAAOvB,MAAMrC,QAAU,EACzBqE,EAAY,2BAAKD,GAAN,IAAgBjB,MAAM,KAC9BkB,EAAY,2BAAKD,GAAN,IAAgBjB,MAAM,MAsE5Bd,MAAOc,EACPV,KAAK,SAER2B,EAASjB,MACN,mBAAG5E,UAAWqB,KAAQuF,MAAtB,yCAGR,sBAAK5G,UAAWqB,KAAQ2H,WAAxB,UACI,2CACA,uBACI7D,SA9EW,SAACC,GACxB0D,GAAiB,GACjBN,EAAUpD,EAAEC,OAAOvB,OACfsB,EAAEC,OAAOvB,MAAMrC,QAAU,EACzBqE,EAAY,2BAAKD,GAAN,IAAgBjB,MAAM,EAAO2D,QAAQ,KAC7CzC,EAAY,2BAAKD,GAAN,IAAgB0C,QAAQ,MA0E9BzE,MAAOyE,EACPrE,KAAK,SAER2B,EAAS0C,QACN,mBAAGvI,UAAWqB,KAAQuF,MAAtB,sCAGR,sBAAK5G,UAAWqB,KAAQ2H,WAAxB,UACI,gDACA,uBACI7D,SAlFW,SAACC,GACxB0D,GAAiB,GACjBJ,EAAUtD,EAAEC,OAAOvB,OACfsB,EAAEC,OAAOvB,OAAS,IAClBgC,EAAY,2BACLD,GADI,IAEP4C,QAAQ,KAGZ3C,EAAY,2BACLD,GADI,IAEP4C,QAAQ,MAwEJ3E,MAAO2E,EACPvE,KAAK,WAER2B,EAAS4C,QACN,mBAAGzI,UAAWqB,KAAQuF,MAAtB,mCAGR,sBAAK5G,UAAWqB,KAAQ2H,WAAxB,UACI,yCACA,uBACI7D,SA/ES,SAACC,GACtB0D,GAAiB,GACjBF,EAAQxD,EAAEC,OAAOvB,OACbsB,EAAEC,OAAOvB,MAAMrC,QAAU,EACzBqE,EAAY,2BACLD,GADI,IAEP8C,MAAM,KAGV7C,EAAY,2BACLD,GADI,IAEP8C,MAAM,MAqEF7E,MAAO6E,EACPzE,KAAK,SAER2B,EAAS8C,MACN,mBAAG3I,UAAWqB,KAAQuF,MAAtB,oCAGR,sBAAK5G,UAAWqB,KAAQ6G,QAAxB,UACI,wBAAQrG,QAASnC,EAAMuJ,SAAUjJ,UAAWqB,KAAQC,OAApD,oBAGA,wBAAQ4C,KAAK,SAASlE,UAAWqB,KAAQC,OAAzC,4BCnBD4H,GA5GF,SAACxJ,GACV,IAAM8E,EAAUzD,qBAAWd,GAC3B,EAAwCW,oBAAS,GAAjD,mBAAOuI,EAAP,KAAqBC,EAArB,KACA,EAA4BxI,mBAAS,IAArC,mBAAOyI,EAAP,KAAeC,EAAf,KAEMjJ,EAAW,WAAOmE,EAAQnE,YAAYqE,QAAQ,IAC9C6E,EAAW/E,EAAQpE,MAAMqB,OAAS,EAElC+H,EAAwB,SAAC/I,GAC3B+D,EAAQhE,WAAWC,IAGjBgJ,EAAqB,SAAClJ,GACxB,IAAMmJ,EAAW,2BAAOnJ,GAAP,IAAaY,OAAS,IACvCqD,EAAQlE,QAAQoJ,GAChBN,GAAgB,IAGdO,EACF,oBAAI3J,UAAWqB,KAAQ,cAAvB,SACKmD,EAAQpE,MAAM2G,KAAI,SAACxG,GAAD,OACf,cAAC,EAAD,CAEIqE,KAAMrE,EAAKqE,KACXzD,OAAQZ,EAAKY,OACbsD,MAAOlE,EAAKkE,MACZwD,WAAW,EACXE,SAAUqB,EAAsBI,KAAK,KAAMrJ,EAAKE,IAChD2H,MAAOqB,EAAmBG,KAAK,KAAMrJ,IANhCA,EAAKE,SAtBN,4CAkCpB,sBAAAsF,EAAA,sDACIuD,EAAU,IACVF,GAAgB,GAFpB,4CAlCoB,kEAuCpB,WAA4BhE,GAA5B,2BAAAW,EAAA,sDAGI,IAAWM,KAFX+C,GAAgB,GACVS,EAAO,GACKzE,EACdyE,EAAKrD,KAAKpB,EAAEiB,IAJpB,OAMWzB,EAA8BiF,EANzC,GAMiBtB,EAAwBsB,EANzC,GAMyBpB,EAAgBoB,EANzC,GAMiClB,EAAQkB,EANzC,GAOUC,EAAQ,CACVrJ,GAAIsJ,KAAKC,MACTpF,KAAMA,EACN2D,OAAQA,EACRE,OAAQA,EACRE,KAAMA,GAZd,SAc2B3C,MACnBC,mEACA,CACIgE,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CAACN,MAAOtF,EAAQpE,MAAOyJ,KAAMC,IAClDO,QAAS,CAAE,eAAgB,sBAnBvC,cAsBiBlE,KACT3B,EAAQ9D,aACR4I,EAAU,mBAAGtJ,UAAWqB,KAAQiJ,KAAtB,sCAEd9F,EAAQ9D,aACR4I,EAAU,mBAAGtJ,UAAWqB,KAAQiJ,KAAtB,qCA3Bd,6CAvCoB,sBAyEOjJ,KAAQiJ,KAEnC,OACI,eAAC,EAAD,CAAOhD,QAAS5H,EAAM4H,QAAtB,UACKqC,EACD,sBAAK3J,UAAWqB,KAAQkJ,MAAxB,UACI,gDACA,+BAAOlK,QAET8I,GACE,sBAAKnJ,UAAWqB,KAAQ6G,QAAxB,UACI,wBACIlI,UAAWqB,KAAQ,eACnBQ,QAASnC,EAAM4H,QAFnB,mBAMCiC,GACG,wBACI1H,QA5FJ,2CA6FI7B,UAAWqB,KAAQC,OAFvB,sBASX+H,EACAF,GACG,cAAC,GAAD,CAAUF,SAlCF,SAAC7D,GACjBA,EAAEzB,iBACFjE,EAAM4H,WAgCmCyB,UAtGzB,kD,SCJlByB,GAAmB,CACvBpK,MAAO,GACPC,YAAa,GAGToK,GAAc,SAACC,EAAOC,GAC1B,GAAoB,QAAhBA,EAAOzG,KAAgB,CACzB,IAOI0G,EAPEC,EACJH,EAAMrK,YAAcsK,EAAOpK,KAAKkE,MAAQkG,EAAOpK,KAAKY,OAEhD2J,EAAwBJ,EAAMtK,MAAM2K,WACxC,SAACxK,GAAD,OAAUA,EAAKE,KAAOkK,EAAOpK,KAAKE,MAE9BuK,EAAmBN,EAAMtK,MAAM0K,GAGrC,GAAIE,EAAkB,CACpB,IAAMC,EAAW,2BACZD,GADY,IAEf7J,OAAQ6J,EAAiB7J,OAASwJ,EAAOpK,KAAKY,UAEhDyJ,EAAY,aAAOF,EAAMtK,QACZ0K,GAAyBG,OAEtCL,EAAeF,EAAMtK,MAAM8K,OAAOP,EAAOpK,MAG3C,MAAO,CACLH,MAAOwK,EACPvK,YAAawK,GAGjB,GAAoB,WAAhBF,EAAOzG,KAAmB,CAC5B,IAKI0G,EALEE,EAAwBJ,EAAMtK,MAAM2K,WACxC,SAACxK,GAAD,OAAUA,EAAKE,KAAOkK,EAAOlK,MAEzB0K,EAAeT,EAAMtK,MAAM0K,GAC3BD,EAAqBH,EAAMrK,YAAc8K,EAAa1G,MAE5D,GAA4B,IAAxB0G,EAAahK,OACfyJ,EAAeF,EAAMtK,MAAM8E,QAAO,SAAA3E,GAAI,OAAIA,EAAKE,KAAOkK,EAAOlK,UACxD,CACL,IAAMwK,EAAW,2BAAQE,GAAR,IAAsBhK,OAAQgK,EAAahK,OAAS,KACrEyJ,EAAY,aAAOF,EAAMtK,QACZ0K,GAAyBG,EAGxC,MAAO,CACL7K,MAAOwK,EACPvK,YAAawK,GAGjB,OAAIF,EAAOzG,KACFsG,IAuCIY,GAjCM,SAAC1L,GACpB,MAAwC2L,qBACtCZ,GACAD,IAFF,mBAAOc,EAAP,KAAkBC,EAAlB,KAiBMC,EAAc,CAClBpL,MAAOkL,EAAUlL,MACjBC,YAAaiL,EAAUjL,YACvBC,QAf2B,SAACC,GAC5BgL,EAAmB,CAAErH,KAAM,MAAO3D,KAAMA,KAexCC,WAZgC,SAACC,GACjC8K,EAAmB,CAAErH,KAAM,SAAUzD,GAAIA,KAYzCC,WATgC,WAChC6K,EAAmB,CAAErH,KAAM,YAW7B,OACE,cAAC,EAAYuH,SAAb,CAAsB3H,MAAO0H,EAA7B,SACG9L,EAAMkD,Y,SCmBE8I,GAxGI,SAAChM,GAChB,MAAgCkB,mBAAS,IAAzC,mBAAO+K,EAAP,KAAiBC,EAAjB,KACA,EAAkChL,oBAAS,GAA3C,mBAAO+E,EAAP,KAAkBC,EAAlB,KACA,EAA8BhF,oBAAS,GAAvC,mBAAOiL,EAAP,KAAgBC,EAAhB,KACA,EAAwBlL,mBAAS,IAAjC,mBAAOgE,EAAP,KAAa0D,EAAb,KAJ0B,4CAK1B,0CAAAvC,EAAA,6DACI+F,GAAW,GACXlG,GAAa,GAFjB,kBAI+BI,MACnBC,oEALZ,cAIcC,EAJd,QAOqBC,IACTc,QAAQC,IAAI,cARxB,SAU2BhB,EAASE,OAVpC,OAeQ,IAAWC,KALLC,EAVd,OAYcyF,EAAe,GACjBC,GAAQ,EAEM1F,EAId,GAHIA,EAAKD,GAAKwD,KAAKjF,KAAKZ,SAAWY,EAAKZ,QAAWgI,IAC/CA,GAAQ,GAERA,EAAO,CAAC,EAAD,aACY1F,EAAKD,GAAKyD,OADtB,IACP,2BAAWvJ,EAAyB,QAChCwL,EAAavF,KAAb,eACOjG,IAHJ,8BAMPqL,EAAYG,GAzB5B,kDA6BQ9E,QAAQC,IAAI,KAAEL,SA7BtB,QA+BIjB,GAAa,GA/BjB,2DAL0B,sBAuC1B,IAvC0B,EA2CtB2E,EAAQ,EA3Cc,eA4CVoB,GA5CU,IA4C1B,2BAA0B,CAAC,IAAhB5F,EAAe,QACtBwE,GAAgBxE,EAAEtB,MAAQsB,EAAE5E,QA7CN,8BA+C1B,IAAMd,EAAckK,EAEpB,OACI,eAAC,EAAD,CAAOjD,QAAS5H,EAAM4H,QAAtB,UACK3B,EACG,2CAEA,gCACI,4DACA,yCACA,uBACI3F,UAAWqB,KAAQ4K,WACnB9G,SApBA,SAACC,GACjBkD,EAAQlD,EAAEC,OAAOvB,QAoBDA,MAAOc,IAEVA,EAAKnD,OAAS,GAAyB,IAApBkK,EAASlK,QACzB,wBACIzB,UAAWqB,KAAQ6K,QACnBrK,QAjEE,2CA+DN,6BASX8J,EAASlK,OAAS,EACf,qCACI,oBAAIzB,UAAWqB,KAAQ,cAAvB,SACKsK,EAAS5E,KAAI,SAAC3B,GAAD,OACV,cAAC,EAAD,CAEIR,KAAMQ,EAAER,KACRzD,OAAQiE,EAAEjE,OACVsD,MAAOW,EAAEX,MACTwD,WAAW,GAJN7C,EAAEiB,UAQnB,sBAAKrG,UAAWqB,KAAQkJ,MAAxB,UACI,gDACA,+BAAOlK,UAGfwL,IAAYlG,EACZ,qBAAK3F,UAAWqB,KAAQkJ,MAAxB,SACI,4EAEJ,GACJ,qBAAKvK,UAAWqB,KAAQ6G,QAAxB,SACI,wBAAQrG,QAASnC,EAAM4H,QAAStH,UAAWqB,KAAQC,OAAnD,yBC9DD6K,OAhCf,WACE,MAAsCvL,oBAAS,GAA/C,mBAAOwL,EAAP,KAAoBC,EAApB,KACA,EAAwCzL,oBAAS,GAAjD,mBAAO0L,EAAP,KAAqBC,EAArB,KAkBA,OACE,eAAC,GAAD,WACGD,GAAgB,cAAC,GAAD,CAAYhF,QANR,WACvBiF,GAAgB,MAMbH,GAAe,cAAC,GAAD,CAAM9E,QAfF,WACtB+E,GAAe,MAeb,cAAC,EAAD,CAAQlK,aAZc,WACxBoK,GAAgB,IAW2BnK,WApBrB,WACtBiK,GAAe,MAoBb,+BACE,cAAC,EAAD,UC7BRvE,IAAS0E,OAAO,cAAC,GAAD,IAAS7E,SAASC,eAAe,W","file":"static/js/main.2db112ea.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputGroup\":\"Cart_inputGroup__2gNbH\",\"cart-items\":\"Cart_cart-items__2fzuy\",\"sent\":\"Cart_sent__17MR5\",\"total\":\"Cart_total__3-l35\",\"actions\":\"Cart_actions__ukv_G\",\"button--alt\":\"Cart_button--alt__rwoEP\",\"button\":\"Cart_button__2Qli3\",\"error\":\"Cart_error__1uW4P\",\"inputfetch\":\"Cart_inputfetch__1TwRQ\",\"buttonf\":\"Cart_buttonf__3BTsS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"HeaderCartButton_button__3BpX2\",\"icon\":\"HeaderCartButton_icon__1bpLT\",\"badge\":\"HeaderCartButton_badge__1VjoL\",\"bump\":\"HeaderCartButton_bump__1jtjg\",\"optional\":\"HeaderCartButton_optional__3--zA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-item\":\"CartItem_cart-item__3Aqv8\",\"summary\":\"CartItem_summary__1qCAP\",\"price\":\"CartItem_price__3yni-\",\"amount\":\"CartItem_amount__1y6hb\",\"actions\":\"CartItem_actions__2oQsz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2vwiw\",\"main-image\":\"Header_main-image__3pMg0\",\"optional\":\"Header_optional__Jlecj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meal\":\"MealItem_meal__2s6ko\",\"description\":\"MealItem_description__27aM1\",\"price\":\"MealItem_price__3_Y6w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__2dKYM\",\"modal\":\"Modal_modal__10sss\",\"slide-down\":\"Modal_slide-down__1AWTw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"summary\":\"MealsSummary_summary__30PRI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__1fQ31\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__26nj1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"MealItemForm_form__2xuQ1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meals\":\"AvailableMeals_meals__1ekqC\",\"meals-appear\":\"AvailableMeals_meals-appear__2R8Ni\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filter\":\"Filter_filter__2yo9c\",\"options\":\"Filter_options__1ZCc9\"};","const CartIcon = (props) => {\n    if (props.icon === '1') {\n        return (\n            <svg\n                xmlns='http://www.w3.org/2000/svg'\n                viewBox='0 0 20 20'\n                fill='currentColor'\n            >\n                <path d='M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z' />\n            </svg>\n        );\n    } else {\n        return <i className=\"fa-solid fa-dumpster-fire\"></i>;\n    }\n};\n\nexport default CartIcon;\n","import React from 'react';\n\nconst CartContext = React.createContext({\n  items: [],\n  totalAmount: 0,\n  addItem: (item) => {},\n  removeItem: (id) => {},\n  clearItems: () => {}\n});\n\nexport default CartContext;","import { Fragment, useContext, useEffect, useState } from 'react';\n\nimport CartIcon from '../Cart/CartIcon';\nimport CartContext from '../../store/cart-context';\nimport classes from './HeaderCartButton.module.css';\n\nconst HeaderCartButton = (props) => {\n    const [btnIsHighlighted, setBtnIsHighlighted] = useState(false);\n    const cartCtx = useContext(CartContext);\n\n    const { items } = cartCtx;\n\n    const numberOfCartItems = items.reduce((curNumber, item) => {\n        return curNumber + item.amount;\n    }, 0);\n\n    const btnClasses = `${classes.button} ${\n        btnIsHighlighted ? classes.bump : ''\n    }`;\n\n    useEffect(() => {\n        if (items.length === 0) {\n            return;\n        }\n        setBtnIsHighlighted(true);\n\n        const timer = setTimeout(() => {\n            setBtnIsHighlighted(false);\n        }, 300);\n\n        return () => {\n            clearTimeout(timer);\n        };\n    }, [items]);\n\n    return (\n        <Fragment>\n            <button className={btnClasses} onClick={props.onOrders}>\n                <span className={`${classes.icon} ${classes.optional}`}>\n                    <CartIcon icon='2' />\n                    \n                </span>\n                <span >Your Orders</span>\n            </button>\n            <button className={btnClasses} onClick={props.onClick}>\n                <span className={`${classes.icon} ${classes.optional}`}>\n                    <CartIcon icon='1' />\n                </span>\n                <span>Your Cart</span>\n                <span className={classes.badge}>{numberOfCartItems}</span>\n            </button>\n        </Fragment>\n    );\n};\n\nexport default HeaderCartButton;\n","export default __webpack_public_path__ + \"static/media/meals.2971f633.jpg\";","import { Fragment } from 'react';\n\nimport HeaderCartButton from './HeaderCartButton';\nimport mealsImage from '../../assets/meals.jpg';\nimport classes from './Header.module.css';\n\nconst Header = (props) => {\n  return (\n    <Fragment>\n      <header className={classes.header}>\n        <h1 className={classes.optional}>ReactMeals</h1>\n        <HeaderCartButton onOrders={props.onShowOrders} onClick={props.onShowCart} />\n      </header>\n      <div className={classes['main-image']}>\n        <img src={mealsImage} alt='A table full of delicious food!' />\n      </div>\n    </Fragment>\n  );\n};\n\nexport default Header;\n","import classes from './MealsSummary.module.css';\n\nconst MealsSummary = () => {\n  return (\n    <section className={classes.summary}>\n      <h2>Delicious Food, Delivered To You</h2>\n      <p>\n        Choose your favorite meal from our broad selection of available meals\n        and enjoy a delicious lunch or dinner at home.\n      </p>\n      <p>\n        All our meals are cooked with high-quality ingredients, just-in-time and\n        of course by experienced chefs!\n      </p>\n    </section>\n  );\n};\n\nexport default MealsSummary;\n","import classes from './Card.module.css';\n\nconst Card = props => {\n  return <div className={classes.card}>{props.children}</div>\n};\n\nexport default Card;","import React from 'react';\n\nimport classes from './Input.module.css';\n\nconst Input = React.forwardRef((props, ref) => {\n  return (\n    <div className={classes.input}>\n      <label htmlFor={props.input.id}>{props.label}</label>\n      <input ref={ref} {...props.input} />\n    </div>\n  );\n});\n\nexport default Input;\n","import { useRef, useState } from 'react';\n\nimport Input from '../../UI/Input';\nimport classes from './MealItemForm.module.css';\n\nconst MealItemForm = (props) => {\n  const [amountIsValid, setAmountIsValid] = useState(true);\n  const amountInputRef = useRef();\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n\n    const enteredAmount = amountInputRef.current.value;\n    const enteredAmountNumber = +enteredAmount;\n\n    if (\n      enteredAmount.trim().length === 0 ||\n      enteredAmountNumber < 1 ||\n      enteredAmountNumber > 5\n    ) {\n      setAmountIsValid(false);\n      return;\n    }\n\n    props.onAddToCart(enteredAmountNumber);\n  };\n\n  return (\n    <form className={classes.form} onSubmit={submitHandler}>\n      <Input\n        ref={amountInputRef}\n        label='Amount'\n        input={{\n          id: 'amount',\n          type: 'number',\n          min: '1',\n          max: '5',\n          step: '1',\n          defaultValue: '1',\n        }}\n      />\n      <button>+ Add</button>\n      {!amountIsValid && <p>Please enter a valid amount (1-5).</p>}\n    </form>\n  );\n};\n\nexport default MealItemForm;\n","import { useContext } from 'react';\n\nimport MealItemForm from './MealItemForm';\nimport classes from './MealItem.module.css';\nimport CartContext from '../../../store/cart-context';\n\nconst MealItem = (props) => {\n  const cartCtx = useContext(CartContext);\n\n  const price = `$${props.price.toFixed(2)}`;\n\n  const addToCartHandler = amount => {\n    cartCtx.addItem({\n      id: props.id,\n      name: props.name,\n      amount: amount,\n      price: props.price\n    });\n  };\n\n  return (\n    <li className={classes.meal}>\n      <div>\n        <h3>{props.name}</h3>\n        <div className={classes.description}>{props.description}</div>\n        <div className={classes.price}>{price}</div>\n      </div>\n      <div>\n        <MealItemForm onAddToCart={addToCartHandler} />\n      </div>\n    </li>\n  );\n};\n\nexport default MealItem;\n","import React, { useEffect, useState } from 'react';\r\nimport classes from './Filter.module.css';\r\n\r\nfunction Filter(props) {\r\n    const [showing, setShowing] = useState('all');\r\n\r\n    const filterHandler = (e) => {\r\n        setShowing(e.target.value);\r\n    };\r\n\r\n    useEffect(() => {\r\n        props.filterBy(showing);\r\n    }, [showing]);\r\n\r\n    return (\r\n        <div className={classes.filter}>\r\n            <select value={showing} onChange={filterHandler}>\r\n                <option value='all'>All</option>\r\n                <option value='meat'>Meat</option>\r\n                <option value='fish'>Fish</option>\r\n                <option value='veggie'>Veggies</option>\r\n            </select>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Filter;\r\n","import Card from '../UI/Card';\nimport MealItem from './MealItem/MealItem';\nimport classes from './AvailableMeals.module.css';\nimport React from 'react';\nimport Filter from '../UI/Filter';\n\nconst AvailableMeals = () => {\n    const [DUMMY_MEALS, setDummys] = React.useState([]);\n    const [filteredMeals, setFilteredMeals] = React.useState(DUMMY_MEALS);\n    const [isLoading, setIsLoading] = React.useState(true);\n    const [hasError, setHasError] = React.useState('');\n\n    async function fetchingMeals() {\n        const response = await fetch(\n            process.env.REACT_APP_NOT_SECRET_CODE_MEALS\n        );\n        if (!response.ok) {\n            setHasError('Error while fetching');\n        }\n        const data = await response.json();\n        const fetchedMeals = [];\n        for (const key in data) {\n            fetchedMeals.push({ ...data[key], id: key });\n        }\n        setDummys(fetchedMeals);\n        setFilteredMeals(fetchedMeals);\n        setIsLoading(false);\n    }\n\n    const changeFilterHandler = (type) => {\n        console.log(type);\n        if (type === 'all') {\n            setFilteredMeals(DUMMY_MEALS);\n        } else {\n            setFilteredMeals(DUMMY_MEALS.filter((meal) => meal.type === type));\n        }\n    };\n\n    React.useEffect(\n        React.useCallback(() => {\n            fetchingMeals().catch((error) => {\n                setIsLoading(false);\n                setHasError(error.message);\n            });\n        }),\n        []\n    );\n\n    const mealsList = React.useCallback(\n        filteredMeals.map((meal) => (\n            <MealItem\n                key={meal.id}\n                id={meal.id}\n                name={meal.name}\n                description={meal.description}\n                price={meal.price}\n            />\n        )),\n        [filteredMeals]\n    );\n\n    return (\n        <section className={classes.meals}>\n            <Filter filterBy={changeFilterHandler} />\n            <Card>\n                {!hasError ? (\n                    isLoading ? (\n                        <p>Loading...</p>\n                    ) : (\n                        <ul>{mealsList}</ul>\n                    )\n                ) : (\n                    <p>{hasError}</p>\n                )}\n            </Card>\n        </section>\n    );\n};\n\nexport default AvailableMeals;\n","import { Fragment } from 'react';\n\nimport MealsSummary from './MealsSummary';\nimport AvailableMeals from './AvailableMeals';\n\nconst Meals = () => {\n  return (\n    <Fragment>\n      <MealsSummary />\n      <AvailableMeals />\n    </Fragment>\n  );\n};\n\nexport default Meals;\n","import { Fragment } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport classes from './Modal.module.css';\n\nconst Backdrop = (props) => {\n  return <div className={classes.backdrop} onClick={props.onClose}/>;\n};\n\nconst ModalOverlay = (props) => {\n  return (\n    <div className={classes.modal}>\n      <div className={classes.content}>{props.children}</div>\n    </div>\n  );\n};\n\nconst portalElement = document.getElementById('overlays');\n\nconst Modal = (props) => {\n  return (\n    <Fragment>\n      {ReactDOM.createPortal(<Backdrop onClose={props.onClose} />, portalElement)}\n      {ReactDOM.createPortal(\n        <ModalOverlay>{props.children}</ModalOverlay>,\n        portalElement\n      )}\n    </Fragment>\n  );\n};\n\nexport default Modal;\n","import classes from './CartItem.module.css';\n\nconst CartItem = (props) => {\n    const price = `$${props.price.toFixed(2)}`;\n\n    return (\n        <li className={classes['cart-item']}>\n            <div>\n                <h2>{props.name}</h2>\n                <div className={classes.summary}>\n                    <span className={classes.price}>{price}</span>\n                    <span className={classes.amount}>x {props.amount}</span>\n                </div>\n            </div>\n            {props.changable && (\n                <div className={classes.actions}>\n                    <button onClick={props.onRemove}>−</button>\n                    <button onClick={props.onAdd}>+</button>\n                </div>\n            )}\n        </li>\n    );\n};\n\nexport default CartItem;\n","import React from 'react';\r\nimport classes from './Cart.module.css';\r\n\r\nconst Checkout = (props) => {\r\n    const [name, setName] = React.useState('');\r\n    const [street, setStreet] = React.useState('');\r\n    const [postal, setPostal] = React.useState(0);\r\n    const [city, setCity] = React.useState('');\r\n    const [formIsTouched, setFormIsTouched] = React.useState(false);\r\n    const [hasError, setHasError] = React.useState({\r\n        name: false,\r\n        street: false,\r\n        postal: false,\r\n        city: false,\r\n    });\r\n\r\n    const nameInputHandler = (e) => {\r\n        setFormIsTouched(true);\r\n        setName(e.target.value);\r\n        if (e.target.value.length <= 4) {\r\n            setHasError({ ...hasError, name: true });\r\n        } else setHasError({ ...hasError, name: false });\r\n    };\r\n    const streetInputHandler = (e) => {\r\n        setFormIsTouched(true);\r\n        setStreet(e.target.value);\r\n        if (e.target.value.length <= 5) {\r\n            setHasError({ ...hasError, name: false, street: true });\r\n        } else setHasError({ ...hasError, street: false });\r\n    };\r\n    const postalInputHandler = (e) => {\r\n        setFormIsTouched(true);\r\n        setPostal(e.target.value);\r\n        if (e.target.value <= 1000) {\r\n            setHasError({\r\n                ...hasError,\r\n                postal: true,\r\n            });\r\n        } else\r\n            setHasError({\r\n                ...hasError,\r\n                postal: false,\r\n            });\r\n    };\r\n    const cityInputHandler = (e) => {\r\n        setFormIsTouched(true);\r\n        setCity(e.target.value);\r\n        if (e.target.value.length <= 1) {\r\n            setHasError({\r\n                ...hasError,\r\n                city: true,\r\n            });\r\n        } else\r\n            setHasError({\r\n                ...hasError,\r\n                city: false,\r\n            });\r\n    };\r\n\r\n    const submitionHandler = (e) => {\r\n        e.preventDefault();\r\n        if (!formIsTouched) {\r\n            setHasError({\r\n                name: true,\r\n                street: true,\r\n                postal: true,\r\n                city: true,\r\n            });\r\n            return;\r\n        }\r\n        if (\r\n            hasError.name === false &&\r\n            hasError.street === false &&\r\n            hasError.postal === false &&\r\n            hasError.city === false\r\n        ) {\r\n            props.onConfirm({\r\n                name: name,\r\n                street: street,\r\n                postal: postal,\r\n                city: city,\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={submitionHandler}>\r\n            <div className={classes.inputGroup}>\r\n                <label>Name</label>\r\n                <input\r\n                    onChange={nameInputHandler}\r\n                    value={name}\r\n                    type='text'\r\n                ></input>\r\n                {hasError.name && (\r\n                    <p className={classes.error}>Your name must be longer</p>\r\n                )}\r\n            </div>\r\n            <div className={classes.inputGroup}>\r\n                <label>Street</label>\r\n                <input\r\n                    onChange={streetInputHandler}\r\n                    value={street}\r\n                    type='text'\r\n                ></input>\r\n                {hasError.street && (\r\n                    <p className={classes.error}>Street must be longer</p>\r\n                )}\r\n            </div>\r\n            <div className={classes.inputGroup}>\r\n                <label>Postal Code</label>\r\n                <input\r\n                    onChange={postalInputHandler}\r\n                    value={postal}\r\n                    type='number'\r\n                ></input>\r\n                {hasError.postal && (\r\n                    <p className={classes.error}>Something is wrong</p>\r\n                )}\r\n            </div>\r\n            <div className={classes.inputGroup}>\r\n                <label>City</label>\r\n                <input\r\n                    onChange={cityInputHandler}\r\n                    value={city}\r\n                    type='text'\r\n                ></input>\r\n                {hasError.city && (\r\n                    <p className={classes.error}>City must be longer</p>\r\n                )}\r\n            </div>\r\n            <div className={classes.actions}>\r\n                <button onClick={props.onCancel} className={classes.button}>\r\n                    Cancel\r\n                </button>\r\n                <button type='submit' className={classes.button}>\r\n                    Confirm\r\n                </button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default Checkout;\r\n","import { useContext, useState } from 'react';\n\nimport Modal from '../UI/Modal';\nimport CartItem from './CartItem';\nimport classes from './Cart.module.css';\nimport CartContext from '../../store/cart-context';\nimport Checkout from './Checkout';\n\nconst Cart = (props) => {\n    const cartCtx = useContext(CartContext);\n    const [orderWasSent, setOrderWasSent] = useState(false);\n    const [posted, setPosted] = useState('');\n\n    const totalAmount = `$${cartCtx.totalAmount.toFixed(2)}`;\n    const hasItems = cartCtx.items.length > 0;\n\n    const cartItemRemoveHandler = (id) => {\n        cartCtx.removeItem(id);\n    };\n\n    const cartItemAddHandler = (item) => {\n        const itemChanged = {...item, amount : 1};\n        cartCtx.addItem(itemChanged);\n        setOrderWasSent(false);\n    };\n\n    const cartItems = (\n        <ul className={classes['cart-items']}>\n            {cartCtx.items.map((item) => (\n                <CartItem\n                    key={item.id}\n                    name={item.name}\n                    amount={item.amount}\n                    price={item.price}\n                    changable={true}\n                    onRemove={cartItemRemoveHandler.bind(null, item.id)}\n                    onAdd={cartItemAddHandler.bind(null, item)}\n                />\n            ))}\n        </ul>\n    );\n\n    async function postingOrder() {\n        setPosted('');\n        setOrderWasSent(true);\n    }\n\n    async function confirmation(e) {\n        setOrderWasSent(false);\n        const user = [];\n        for (const key in e) {\n            user.push(e[key]);\n        }\n        const [name, street, postal, city] = user;\n        const order = {\n            id: Date.now(),\n            name: name,\n            street: street,\n            postal: postal,\n            city: city,\n        };\n        const response = await fetch(\n            process.env.REACT_APP_NOT_SECRET_CODE_ORDERS,\n            {\n                method: 'POST',\n                body: JSON.stringify({order: cartCtx.items, user: order}),\n                headers: { 'Content-Type': 'application/json' },\n            }\n        );\n        if (response.ok) {\n            cartCtx.clearItems();\n            setPosted(<p className={classes.sent}>Your order was updated</p>)\n        }\n        cartCtx.clearItems();\n        setPosted(<p className={classes.sent}>Your order was updated</p>)\n    };\n    const cancelation = (e) => {\n        e.preventDefault();\n        props.onClose();\n    };\n\n    const sent = <p className={classes.sent}>Your order has been updated!</p>;\n\n    return (\n        <Modal onClose={props.onClose}>\n            {cartItems}\n            <div className={classes.total}>\n                <span>Total Amount</span>\n                <span>{totalAmount}</span>\n            </div>\n            {!orderWasSent && (\n                <div className={classes.actions}>\n                    <button\n                        className={classes['button--alt']}\n                        onClick={props.onClose}\n                    >\n                        Close\n                    </button>\n                    {hasItems && (\n                        <button\n                            onClick={postingOrder}\n                            className={classes.button}\n                        >\n                            Order\n                        </button>\n                    )}\n                </div>\n            )}\n            {posted}\n            {orderWasSent && (\n                <Checkout onCancel={cancelation} onConfirm={confirmation} />\n            )}\n        </Modal>\n    );\n};\n\nexport default Cart;\n","import { useReducer } from 'react';\n\nimport CartContext from './cart-context';\n\nconst defaultCartState = {\n  items: [],\n  totalAmount: 0,\n};\n\nconst cartReducer = (state, action) => {\n  if (action.type === 'ADD') {\n    const updatedTotalAmount =\n      state.totalAmount + action.item.price * action.item.amount;\n\n    const existingCartItemIndex = state.items.findIndex(\n      (item) => item.id === action.item.id\n    );\n    const existingCartItem = state.items[existingCartItemIndex];\n    let updatedItems;\n\n    if (existingCartItem) {\n      const updatedItem = {\n        ...existingCartItem,\n        amount: existingCartItem.amount + action.item.amount,\n      };\n      updatedItems = [...state.items];\n      updatedItems[existingCartItemIndex] = updatedItem;\n    } else {\n      updatedItems = state.items.concat(action.item);\n    }\n\n    return {\n      items: updatedItems,\n      totalAmount: updatedTotalAmount,\n    };\n  }\n  if (action.type === 'REMOVE') {\n    const existingCartItemIndex = state.items.findIndex(\n      (item) => item.id === action.id\n    );\n    const existingItem = state.items[existingCartItemIndex];\n    const updatedTotalAmount = state.totalAmount - existingItem.price;\n    let updatedItems;\n    if (existingItem.amount === 1) {\n      updatedItems = state.items.filter(item => item.id !== action.id);\n    } else {\n      const updatedItem = { ...existingItem, amount: existingItem.amount - 1 };\n      updatedItems = [...state.items];\n      updatedItems[existingCartItemIndex] = updatedItem;\n    }\n\n    return {\n      items: updatedItems,\n      totalAmount: updatedTotalAmount\n    };\n  }\n  if (action.type === 'CLEAR') {\n    return defaultCartState;\n  }\n\n  return defaultCartState;\n};\n\nconst CartProvider = (props) => {\n  const [cartState, dispatchCartAction] = useReducer(\n    cartReducer,\n    defaultCartState\n  );\n\n  const addItemToCartHandler = (item) => {\n    dispatchCartAction({ type: 'ADD', item: item });\n  };\n\n  const removeItemFromCartHandler = (id) => {\n    dispatchCartAction({ type: 'REMOVE', id: id });\n  };\n\n  const clearItemsFromCartHandler = () => {\n    dispatchCartAction({ type: 'CLEAR' });\n  };\n\n  const cartContext = {\n    items: cartState.items,\n    totalAmount: cartState.totalAmount,\n    addItem: addItemToCartHandler,\n    removeItem: removeItemFromCartHandler,\n    clearItems: clearItemsFromCartHandler,\n  };\n\n  return (\n    <CartContext.Provider value={cartContext}>\n      {props.children}\n    </CartContext.Provider>\n  );\n};\n\nexport default CartProvider;\n","import React from 'react';\r\nimport Modal from '../components/UI/Modal';\r\nimport classes from '../components/Cart/Cart.module.css';\r\nimport { useState } from 'react';\r\nimport CartItem from '../components/Cart/CartItem';\r\n\r\nconst OrdersCart = (props) => {\r\n    const [myOrders, setMyOrders] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [fetched, setFetched] = useState(false);\r\n    const [name, setName] = useState('');\r\n    async function fetchOrdersHandler() {\r\n        setFetched(true);\r\n        setIsLoading(true);\r\n        try {\r\n            const response = await fetch(\r\n                process.env.REACT_APP_NOT_SECRET_CODE_ORDERS\r\n            );\r\n            if (response.ok) {\r\n                console.log('All right!');\r\n            }\r\n            const data = await response.json();\r\n\r\n            const loadedOrders = [];\r\n            let found = false;\r\n\r\n            for (const key in data) {\r\n                if (data[key].user.name.trim() === name.trim() && !found) {\r\n                    found = true;\r\n                }\r\n                if (found) {\r\n                    for (const item of data[key].order) {\r\n                        loadedOrders.push({\r\n                            ...item,\r\n                        });\r\n                    }\r\n                    setMyOrders(loadedOrders);\r\n                }\r\n            }\r\n        } catch (e) {\r\n            console.log(e.message);\r\n        }\r\n        setIsLoading(false);\r\n    }\r\n\r\n    const nameHandler = (e) => {\r\n        setName(e.target.value);\r\n    };\r\n\r\n    let total = 0;\r\n    for (const a of myOrders) {\r\n        total = total + a.price * a.amount;\r\n    }\r\n    const totalAmount = total;\r\n\r\n    return (\r\n        <Modal onClose={props.onClose}>\r\n            {isLoading ? (\r\n                <p>Loading...</p>\r\n            ) : (\r\n                <div>\r\n                    <h2>Search to see your orders!</h2>\r\n                    <label>Name</label>\r\n                    <input\r\n                        className={classes.inputfetch}\r\n                        onChange={nameHandler}\r\n                        value={name}\r\n                    ></input>\r\n                    {name.length > 3 && myOrders.length === 0 && (\r\n                        <button\r\n                            className={classes.buttonf}\r\n                            onClick={fetchOrdersHandler}\r\n                        >\r\n                            Fetch orders\r\n                        </button>\r\n                    )}\r\n                </div>\r\n            )}\r\n            {myOrders.length > 0 ? (\r\n                <>\r\n                    <ul className={classes['cart-items']}>\r\n                        {myOrders.map((e) => (\r\n                            <CartItem\r\n                                key={e.key}\r\n                                name={e.name}\r\n                                amount={e.amount}\r\n                                price={e.price}\r\n                                changable={false}\r\n                            />\r\n                        ))}\r\n                    </ul>\r\n                    <div className={classes.total}>\r\n                        <span>Total Amount</span>\r\n                        <span>{totalAmount}</span>\r\n                    </div>\r\n                </>\r\n            ) : fetched && !isLoading ? (\r\n                <div className={classes.total}>\r\n                    <p>There are no items ordered with that name</p>\r\n                </div>\r\n            ) : ''}\r\n            <div className={classes.actions}>\r\n                <button onClick={props.onClose} className={classes.button}>\r\n                    Close\r\n                </button>\r\n            </div>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default OrdersCart;\r\n","import { useState } from 'react';\n\nimport Header from './components/Layout/Header';\nimport Meals from './components/Meals/Meals';\nimport Cart from './components/Cart/Cart';\nimport CartProvider from './store/CartProvider';\nimport OrdersCart from './store/OrdersCart';\n\nfunction App() {\n  const [cartIsShown, setCartIsShown] = useState(false);\n  const [orderIsShown, setOrderIsShown] = useState(false);\n\n  const showCartHandler = () => {\n    setCartIsShown(true);\n  };\n\n  const hideCartHandler = () => {\n    setCartIsShown(false);\n  };\n\n  const showOrdersHandler = () => {\n    setOrderIsShown(true);\n  };\n\n  const hideOrderHandler = () => {\n    setOrderIsShown(false);\n  };\n\n  return (\n    <CartProvider>\n      {orderIsShown && <OrdersCart onClose={hideOrderHandler} />}\n      {cartIsShown && <Cart onClose={hideCartHandler} />}\n      <Header onShowOrders={showOrdersHandler} onShowCart={showCartHandler} />\n      <main>\n        <Meals />\n      </main>\n    </CartProvider>\n  );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}