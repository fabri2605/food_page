{"version":3,"sources":["components/Cart/Cart.module.css","components/Layout/HeaderCartButton.module.css","components/Cart/CartItem.module.css","components/Layout/Header.module.css","components/Meals/MealItem/MealItem.module.css","components/UI/Modal.module.css","components/Meals/MealsSummary.module.css","components/UI/Card.module.css","components/UI/Input.module.css","components/Meals/MealItem/MealItemForm.module.css","components/Meals/AvailableMeals.module.css","components/Cart/CartIcon.js","store/cart-context.js","components/Layout/HeaderCartButton.js","assets/meals.jpg","components/Layout/Header.js","components/Meals/MealsSummary.js","components/UI/Card.js","components/UI/Input.js","components/Meals/MealItem/MealItemForm.js","components/Meals/MealItem/MealItem.js","components/Meals/AvailableMeals.js","components/Meals/Meals.js","components/UI/Modal.js","components/Cart/CartItem.js","components/Cart/Checkout.js","components/Cart/Cart.js","store/CartProvider.js","store/OrdersCart.js","App.js","index.js"],"names":["module","exports","CartIcon","props","icon","xmlns","viewBox","fill","d","class","CartContext","React","createContext","items","totalAmount","addItem","item","removeItem","id","clearItems","HeaderCartButton","useState","btnIsHighlighted","setBtnIsHighlighted","useContext","numberOfCartItems","reduce","curNumber","amount","btnClasses","classes","button","bump","useEffect","length","timer","setTimeout","clearTimeout","className","onClick","onOrders","optional","badge","Header","header","onShowOrders","onShowCart","src","mealsImage","alt","MealsSummary","summary","Card","card","children","Input","forwardRef","ref","input","htmlFor","label","MealItemForm","amountIsValid","setAmountIsValid","amountInputRef","useRef","form","onSubmit","event","preventDefault","enteredAmount","current","value","enteredAmountNumber","trim","onAddToCart","type","min","max","step","defaultValue","MealItem","cartCtx","price","toFixed","meal","name","description","AvailableMeals","DUMMY_MEALS","setDummys","isLoading","setIsLoading","hasError","setHasError","a","fetch","response","ok","json","key","data","smth","push","useCallback","fetchingMeals","catch","error","message","mealsList","map","meals","Meals","Backdrop","backdrop","onClose","ModalOverlay","modal","content","portalElement","document","getElementById","Modal","ReactDOM","createPortal","CartItem","changable","actions","onRemove","onAdd","Checkout","setName","street","setStreet","postal","setPostal","city","setCity","formIsTouched","setFormIsTouched","e","onConfirm","onChange","target","onCancel","Cart","orderWasSent","setOrderWasSent","posted","setPosted","hasItems","cartItemRemoveHandler","cartItemAddHandler","cartItems","bind","user","order","Date","now","method","body","JSON","stringify","headers","sent","total","defaultCartState","cartReducer","state","action","updatedItems","updatedTotalAmount","existingCartItemIndex","findIndex","existingCartItem","updatedItem","concat","existingItem","filter","CartProvider","useReducer","cartState","dispatchCartAction","cartContext","Provider","OrdersCart","myOrders","setMyOrders","console","log","loadedOrders","found","process","inputfetch","buttonf","App","cartIsShown","setCartIsShown","orderIsShown","setOrderIsShown","render"],"mappings":"uHACAA,EAAOC,QAAU,CAAC,aAAa,yBAAyB,KAAO,mBAAmB,MAAQ,oBAAoB,QAAU,sBAAsB,cAAc,0BAA0B,OAAS,qBAAqB,MAAQ,oBAAoB,WAAa,yBAAyB,QAAU,wB,iBCAhSD,EAAOC,QAAU,CAAC,OAAS,iCAAiC,KAAO,+BAA+B,MAAQ,gCAAgC,KAAO,+BAA+B,SAAW,qC,kBCA3LD,EAAOC,QAAU,CAAC,YAAY,4BAA4B,QAAU,0BAA0B,MAAQ,wBAAwB,OAAS,yBAAyB,QAAU,4B,kBCA1KD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,aAAa,2BAA2B,SAAW,2B,gBCArGD,EAAOC,QAAU,CAAC,KAAO,uBAAuB,YAAc,8BAA8B,MAAQ,0B,gBCApGD,EAAOC,QAAU,CAAC,SAAW,wBAAwB,MAAQ,qBAAqB,aAAa,4B,mBCA/FD,EAAOC,QAAU,CAAC,QAAU,gC,gBCA5BD,EAAOC,QAAU,CAAC,KAAO,qB,gBCAzBD,EAAOC,QAAU,CAAC,MAAQ,uB,gBCA1BD,EAAOC,QAAU,CAAC,KAAO,6B,gBCAzBD,EAAOC,QAAU,CAAC,MAAQ,8BAA8B,eAAe,uC,uHCexDC,EAhBE,SAACC,GACd,MAAmB,MAAfA,EAAMC,KAEF,qBACIC,MAAM,6BACNC,QAAQ,YACRC,KAAK,eAHT,SAKI,sBAAMC,EAAE,8RAIT,mBAAGC,MAAM,+BCFTC,EARKC,IAAMC,cAAc,CACtCC,MAAO,GACPC,YAAa,EACbC,QAAS,SAACC,KACVC,WAAY,SAACC,KACbC,WAAY,e,gBCgDCC,EAjDU,SAACjB,GACtB,MAAgDkB,oBAAS,GAAzD,mBAAOC,EAAP,KAAyBC,EAAzB,KAGQV,EAFQW,qBAAWd,GAEnBG,MAEFY,EAAoBZ,EAAMa,QAAO,SAACC,EAAWX,GAC/C,OAAOW,EAAYX,EAAKY,SACzB,GAEGC,EAAU,UAAMC,IAAQC,OAAd,YACZT,EAAmBQ,IAAQE,KAAO,IAkBtC,OAfAC,qBAAU,WACN,GAAqB,IAAjBpB,EAAMqB,OAAV,CAGAX,GAAoB,GAEpB,IAAMY,EAAQC,YAAW,WACrBb,GAAoB,KACrB,KAEH,OAAO,WACHc,aAAaF,OAElB,CAACtB,IAGA,eAAC,WAAD,WACI,yBAAQyB,UAAWT,EAAYU,QAASpC,EAAMqC,SAA9C,UACI,sBAAMF,UAAS,UAAKR,IAAQ1B,KAAb,YAAqB0B,IAAQW,UAA5C,SACI,cAAC,EAAD,CAAUrC,KAAK,QAGnB,kDAEJ,yBAAQkC,UAAWT,EAAYU,QAASpC,EAAMoC,QAA9C,UACI,sBAAMD,UAAS,UAAKR,IAAQ1B,KAAb,YAAqB0B,IAAQW,UAA5C,SACI,cAAC,EAAD,CAAUrC,KAAK,QAEnB,6CACA,sBAAMkC,UAAWR,IAAQY,MAAzB,SAAiCjB,WCjDlC,MAA0B,kC,iBCoB1BkB,EAdA,SAACxC,GACd,OACE,eAAC,WAAD,WACE,yBAAQmC,UAAWR,IAAQc,OAA3B,UACE,oBAAIN,UAAWR,IAAQW,SAAvB,wBACA,cAAC,EAAD,CAAkBD,SAAUrC,EAAM0C,aAAcN,QAASpC,EAAM2C,gBAEjE,qBAAKR,UAAWR,IAAQ,cAAxB,SACE,qBAAKiB,IAAKC,EAAYC,IAAI,0C,iBCInBC,EAhBM,WACnB,OACE,0BAASZ,UAAWR,IAAQqB,QAA5B,UACE,kEACA,qJAIA,6I,+CCJSC,EAJF,SAAAjD,GACX,OAAO,qBAAKmC,UAAWR,IAAQuB,KAAxB,SAA+BlD,EAAMmD,Y,iBCU/BC,EATD5C,IAAM6C,YAAW,SAACrD,EAAOsD,GACrC,OACE,sBAAKnB,UAAWR,IAAQ4B,MAAxB,UACE,uBAAOC,QAASxD,EAAMuD,MAAMxC,GAA5B,SAAiCf,EAAMyD,QACvC,mCAAOH,IAAKA,GAAStD,EAAMuD,c,iBCuClBG,EA1CM,SAAC1D,GACpB,MAA0CkB,oBAAS,GAAnD,mBAAOyC,EAAP,KAAsBC,EAAtB,KACMC,EAAiBC,mBAoBvB,OACE,uBAAM3B,UAAWR,IAAQoC,KAAMC,SAnBX,SAACC,GACrBA,EAAMC,iBAEN,IAAMC,EAAgBN,EAAeO,QAAQC,MACvCC,GAAuBH,EAGK,IAAhCA,EAAcI,OAAOxC,QACrBuC,EAAsB,GACtBA,EAAsB,EAEtBV,GAAiB,GAInB5D,EAAMwE,YAAYF,IAIlB,UACE,cAAC,EAAD,CACEhB,IAAKO,EACLJ,MAAM,SACNF,MAAO,CACLxC,GAAI,SACJ0D,KAAM,SACNC,IAAK,IACLC,IAAK,IACLC,KAAM,IACNC,aAAc,OAGlB,4CACElB,GAAiB,uE,iBCRVmB,EA5BE,SAAC9E,GAChB,IAAM+E,EAAU1D,qBAAWd,GAErByE,EAAK,WAAOhF,EAAMgF,MAAMC,QAAQ,IAWtC,OACE,qBAAI9C,UAAWR,IAAQuD,KAAvB,UACE,gCACE,6BAAKlF,EAAMmF,OACX,qBAAKhD,UAAWR,IAAQyD,YAAxB,SAAsCpF,EAAMoF,cAC5C,qBAAKjD,UAAWR,IAAQqD,MAAxB,SAAgCA,OAElC,8BACE,cAAC,EAAD,CAAcR,YAjBK,SAAA/C,GACvBsD,EAAQnE,QAAQ,CACdG,GAAIf,EAAMe,GACVoE,KAAMnF,EAAMmF,KACZ1D,OAAQA,EACRuD,MAAOhF,EAAMgF,iB,iBCkDJK,EA7DQ,WACnB,MAAiC7E,IAAMU,SAAS,IAAhD,mBAAOoE,EAAP,KAAoBC,EAApB,KACA,EAAkC/E,IAAMU,UAAS,GAAjD,mBAAOsE,EAAP,KAAkBC,EAAlB,KACA,EAAgCjF,IAAMU,SAAS,IAA/C,mBAAOwE,EAAP,KAAiBC,EAAjB,KAHyB,4CAKzB,kCAAAC,EAAA,sEAC2BC,MACnB,mEAFR,cACUC,EADV,QAIkBC,IACVJ,EAAY,wBALpB,SAOuBG,EAASE,OAPhC,OASI,IAAWC,KAFLC,EAPV,OAQUC,EAAO,GACKD,EACdC,EAAKC,KAAL,2BAAeF,EAAKD,IAApB,IAA0BlF,GAAIkF,KAElCV,EAAUY,GACVV,GAAa,GAbjB,6CALyB,sBAqBzBjF,IAAMsB,UACFtB,IAAM6F,aAAY,YAtBG,2CAuBjBC,GAAgBC,OAAM,SAACC,GACnBf,GAAa,GACbE,EAAYa,EAAMC,eAG1B,IAGJ,IAAMC,EAAYlG,IAAM6F,YACpBf,EAAYqB,KAAI,SAACzB,GAAD,OACZ,cAAC,EAAD,CAEInE,GAAImE,EAAKnE,GACToE,KAAMD,EAAKC,KACXC,YAAaF,EAAKE,YAClBJ,MAAOE,EAAKF,OAJPE,EAAKnE,OAOlB,CAACuE,IAGL,OACI,yBAASnD,UAAWR,IAAQiF,MAA5B,SACI,cAAC,EAAD,UACMlB,EAOE,4BAAIA,IANJF,EACI,2CAEA,6BAAKkB,SC1CdG,EATD,WACZ,OACE,eAAC,WAAD,WACE,cAAC,EAAD,IACA,cAAC,EAAD,Q,iBCJAC,EAAW,SAAC9G,GAChB,OAAO,qBAAKmC,UAAWR,IAAQoF,SAAU3E,QAASpC,EAAMgH,WAGpDC,EAAe,SAACjH,GACpB,OACE,qBAAKmC,UAAWR,IAAQuF,MAAxB,SACE,qBAAK/E,UAAWR,IAAQwF,QAAxB,SAAkCnH,EAAMmD,cAKxCiE,EAAgBC,SAASC,eAAe,YAc/BC,EAZD,SAACvH,GACb,OACE,eAAC,WAAD,WACGwH,IAASC,aAAa,cAAC,EAAD,CAAUT,QAAShH,EAAMgH,UAAaI,GAC5DI,IAASC,aACR,cAAC,EAAD,UAAezH,EAAMmD,WACrBiE,O,gBCDOM,EAtBE,SAAC1H,GACd,IAAMgF,EAAK,WAAOhF,EAAMgF,MAAMC,QAAQ,IAEtC,OACI,qBAAI9C,UAAWR,IAAQ,aAAvB,UACI,gCACI,6BAAK3B,EAAMmF,OACX,sBAAKhD,UAAWR,IAAQqB,QAAxB,UACI,sBAAMb,UAAWR,IAAQqD,MAAzB,SAAiCA,IACjC,uBAAM7C,UAAWR,IAAQF,OAAzB,eAAoCzB,EAAMyB,gBAGjDzB,EAAM2H,WACH,sBAAKxF,UAAWR,IAAQiG,QAAxB,UACI,wBAAQxF,QAASpC,EAAM6H,SAAvB,oBACA,wBAAQzF,QAASpC,EAAM8H,MAAvB,sB,gBC8HLC,EA5IE,SAAC/H,GACd,MAAwBQ,IAAMU,SAAS,IAAvC,mBAAOiE,EAAP,KAAa6C,EAAb,KACA,EAA4BxH,IAAMU,SAAS,IAA3C,mBAAO+G,EAAP,KAAeC,EAAf,KACA,EAA4B1H,IAAMU,SAAS,GAA3C,mBAAOiH,EAAP,KAAeC,EAAf,KACA,EAAwB5H,IAAMU,SAAS,IAAvC,mBAAOmH,EAAP,KAAaC,EAAb,KACA,EAA0C9H,IAAMU,UAAS,GAAzD,mBAAOqH,EAAP,KAAsBC,EAAtB,KACA,EAAgChI,IAAMU,SAAS,CAC3CiE,MAAM,EACN8C,QAAQ,EACRE,QAAQ,EACRE,MAAM,IAJV,mBAAO3C,EAAP,KAAiBC,EAAjB,KA4EA,OACI,uBAAM3B,SA3Be,SAACyE,GACtBA,EAAEvE,iBACGqE,GAUiB,IAAlB7C,EAASP,OACW,IAApBO,EAASuC,SACW,IAApBvC,EAASyC,SACS,IAAlBzC,EAAS2C,MAETrI,EAAM0I,UAAU,CACZvD,KAAMA,EACN8C,OAAQA,EACRE,OAAQA,EACRE,KAAMA,IAlBV1C,EAAY,CACRR,MAAM,EACN8C,QAAQ,EACRE,QAAQ,EACRE,MAAM,KAoBd,UACI,gCACI,yCACA,uBACIM,SA1ES,SAACF,GACtBD,GAAiB,GACjBR,EAAQS,EAAEG,OAAOvE,OACboE,EAAEG,OAAOvE,MAAMtC,QAAU,EACzB4D,EAAY,2BAAKD,GAAN,IAAgBP,MAAM,KAC9BQ,EAAY,2BAAKD,GAAN,IAAgBP,MAAM,MAsE5Bd,MAAOc,EACPV,KAAK,SAERiB,EAASP,MACN,mBAAGhD,UAAWR,IAAQ6E,MAAtB,yCAGR,gCACI,2CACA,uBACImC,SA9EW,SAACF,GACxBD,GAAiB,GACjBN,EAAUO,EAAEG,OAAOvE,OACfoE,EAAEG,OAAOvE,MAAMtC,QAAU,EACzB4D,EAAY,2BAAKD,GAAN,IAAgBP,MAAM,EAAO8C,QAAQ,KAC7CtC,EAAY,2BAAKD,GAAN,IAAgBuC,QAAQ,MA0E9B5D,MAAO4D,EACPxD,KAAK,SAERiB,EAASuC,QACN,mBAAG9F,UAAWR,IAAQ6E,MAAtB,sCAGR,gCACI,gDACA,uBACImC,SAlFW,SAACF,GACxBD,GAAiB,GACjBJ,EAAUK,EAAEG,OAAOvE,OACfoE,EAAEG,OAAOvE,OAAS,IAClBsB,EAAY,2BACLD,GADI,IAEPyC,QAAQ,KAGZxC,EAAY,2BACLD,GADI,IAEPyC,QAAQ,MAwEJ9D,MAAO8D,EACP1D,KAAK,WAERiB,EAASyC,QACN,mBAAGhG,UAAWR,IAAQ6E,MAAtB,mCAGR,gCACI,yCACA,uBACImC,SA/ES,SAACF,GACtBD,GAAiB,GACjBF,EAAQG,EAAEG,OAAOvE,OACboE,EAAEG,OAAOvE,MAAMtC,QAAU,EACzB4D,EAAY,2BACLD,GADI,IAEP2C,MAAM,KAGV1C,EAAY,2BACLD,GADI,IAEP2C,MAAM,MAqEFhE,MAAOgE,EACP5D,KAAK,SAERiB,EAAS2C,MACN,mBAAGlG,UAAWR,IAAQ6E,MAAtB,oCAGR,sBAAKrE,UAAWR,IAAQiG,QAAxB,UACI,wBAAQxF,QAASpC,EAAM6I,SAAU1G,UAAWR,IAAQC,OAApD,oBAGA,wBAAQ6C,KAAK,SAAStC,UAAWR,IAAQC,OAAzC,4BCtBDkH,EAzGF,SAAC9I,GACV,IAAM+E,EAAU1D,qBAAWd,GAC3B,EAAwCW,oBAAS,GAAjD,mBAAO6H,EAAP,KAAqBC,EAArB,KACA,EAA4B9H,mBAAS,IAArC,mBAAO+H,EAAP,KAAeC,EAAf,KAEMvI,EAAW,WAAOoE,EAAQpE,YAAYsE,QAAQ,IAC9CkE,EAAWpE,EAAQrE,MAAMqB,OAAS,EAElCqH,EAAwB,SAACrI,GAC3BgE,EAAQjE,WAAWC,IAGjBsI,EAAqB,SAACxI,GACxBkE,EAAQnE,QAAQC,GAChBmI,GAAgB,IAGdM,EACF,oBAAInH,UAAWR,IAAQ,cAAvB,SACKoD,EAAQrE,MAAMiG,KAAI,SAAC9F,GAAD,OACf,cAAC,EAAD,CAEIsE,KAAMtE,EAAKsE,KACX1D,OAAQZ,EAAKY,OACbuD,MAAOnE,EAAKmE,MACZ2C,WAAW,EACXE,SAAUuB,EAAsBG,KAAK,KAAM1I,EAAKE,IAChD+G,MAAOuB,EAAmBE,KAAK,KAAM1I,IANhCA,EAAKE,SArBN,4CAiCpB,sBAAA6E,EAAA,sDACIsD,EAAU,IACVF,GAAgB,GAFpB,4CAjCoB,kEAsCpB,WAA4BP,GAA5B,2BAAA7C,EAAA,sDAGI,IAAWK,KAFX+C,GAAgB,GACVQ,EAAO,GACKf,EACde,EAAKpD,KAAKqC,EAAExC,IAJpB,OAMWd,EAA8BqE,EANzC,GAMiBvB,EAAwBuB,EANzC,GAMyBrB,EAAgBqB,EANzC,GAMiCnB,EAAQmB,EANzC,GAOUC,EAAQ,CACV1I,GAAI2I,KAAKC,MACTxE,KAAMA,EACN8C,OAAQA,EACRE,OAAQA,EACRE,KAAMA,GAZd,SAc2BxC,MACnB,mEACA,CACI+D,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CAACN,MAAO1E,EAAQrE,MAAO8I,KAAMC,IAClDO,QAAS,CAAE,eAAgB,sBAnBvC,cAsBiBjE,KACThB,EAAQ/D,aACRkI,EAAU,mBAAG/G,UAAWR,IAAQsI,KAAtB,sCAxBlB,4CAtCoB,sBAsEOtI,IAAQsI,KAEnC,OACI,eAAC,EAAD,CAAOjD,QAAShH,EAAMgH,QAAtB,UACKsC,EACD,sBAAKnH,UAAWR,IAAQuI,MAAxB,UACI,gDACA,+BAAOvJ,QAEToI,GACE,sBAAK5G,UAAWR,IAAQiG,QAAxB,UACI,wBACIzF,UAAWR,IAAQ,eACnBS,QAASpC,EAAMgH,QAFnB,mBAMCmC,GACG,wBACI/G,QAzFJ,2CA0FID,UAAWR,IAAQC,OAFvB,sBASXqH,EACAF,GACG,cAAC,EAAD,CAAUF,SAlCF,SAACJ,GACjBA,EAAEvE,iBACFlE,EAAMgH,WAgCmC0B,UAnGzB,kD,SCJlByB,GAAmB,CACvBzJ,MAAO,GACPC,YAAa,GAGTyJ,GAAc,SAACC,EAAOC,GAC1B,GAAoB,QAAhBA,EAAO7F,KAAgB,CACzB,IAOI8F,EAPEC,EACJH,EAAM1J,YAAc2J,EAAOzJ,KAAKmE,MAAQsF,EAAOzJ,KAAKY,OAEhDgJ,EAAwBJ,EAAM3J,MAAMgK,WACxC,SAAC7J,GAAD,OAAUA,EAAKE,KAAOuJ,EAAOzJ,KAAKE,MAE9B4J,EAAmBN,EAAM3J,MAAM+J,GAGrC,GAAIE,EAAkB,CACpB,IAAMC,EAAW,2BACZD,GADY,IAEflJ,OAAQkJ,EAAiBlJ,OAAS6I,EAAOzJ,KAAKY,UAEhD8I,EAAY,aAAOF,EAAM3J,QACZ+J,GAAyBG,OAEtCL,EAAeF,EAAM3J,MAAMmK,OAAOP,EAAOzJ,MAG3C,MAAO,CACLH,MAAO6J,EACP5J,YAAa6J,GAGjB,GAAoB,WAAhBF,EAAO7F,KAAmB,CAC5B,IAKI8F,EALEE,EAAwBJ,EAAM3J,MAAMgK,WACxC,SAAC7J,GAAD,OAAUA,EAAKE,KAAOuJ,EAAOvJ,MAEzB+J,EAAeT,EAAM3J,MAAM+J,GAC3BD,EAAqBH,EAAM1J,YAAcmK,EAAa9F,MAE5D,GAA4B,IAAxB8F,EAAarJ,OACf8I,EAAeF,EAAM3J,MAAMqK,QAAO,SAAAlK,GAAI,OAAIA,EAAKE,KAAOuJ,EAAOvJ,UACxD,CACL,IAAM6J,EAAW,2BAAQE,GAAR,IAAsBrJ,OAAQqJ,EAAarJ,OAAS,KACrE8I,EAAY,aAAOF,EAAM3J,QACZ+J,GAAyBG,EAGxC,MAAO,CACLlK,MAAO6J,EACP5J,YAAa6J,GAGjB,OAAIF,EAAO7F,KACF0F,IAuCIa,GAjCM,SAAChL,GACpB,MAAwCiL,qBACtCb,GACAD,IAFF,mBAAOe,EAAP,KAAkBC,EAAlB,KAiBMC,EAAc,CAClB1K,MAAOwK,EAAUxK,MACjBC,YAAauK,EAAUvK,YACvBC,QAf2B,SAACC,GAC5BsK,EAAmB,CAAE1G,KAAM,MAAO5D,KAAMA,KAexCC,WAZgC,SAACC,GACjCoK,EAAmB,CAAE1G,KAAM,SAAU1D,GAAIA,KAYzCC,WATgC,WAChCmK,EAAmB,CAAE1G,KAAM,YAW7B,OACE,cAAC,EAAY4G,SAAb,CAAsBhH,MAAO+G,EAA7B,SACGpL,EAAMmD,Y,SCYEmI,GAjGI,SAACtL,GAChB,MAAgCkB,mBAAS,IAAzC,mBAAOqK,EAAP,KAAiBC,EAAjB,KACA,EAAkCtK,oBAAS,GAA3C,mBAAOsE,EAAP,KAAkBC,EAAlB,KACA,EAAwBvE,mBAAS,IAAjC,mBAAOiE,EAAP,KAAa6C,EAAb,KAH0B,4CAK1B,0CAAApC,EAAA,6DACIH,GAAa,GADjB,kBAG+BI,MACnB,oEAJZ,cAGcC,EAHd,QAMqBC,IACT0F,QAAQC,IAAI,cAPxB,SAS2B5F,EAASE,OATpC,OAcQ,IAAWC,KALLC,EATd,OAWcyF,EAAe,GACjBC,GAAQ,EAEM1F,EAId,GAHIA,EAAKD,GAAKuD,KAAKrE,OAASA,GAASyG,IACjCA,GAAQ,GAERA,EAAO,CAAC,EAAD,aACY1F,EAAKD,GAAKwD,OADtB,IACP,2BAAW5I,EAAyB,QAChC8K,EAAavF,KAAb,eACOvF,IAHJ,8BAMP2K,EAAYG,GAxB5B,kDA6BQF,QAAQC,IAAI,KAAEjF,SA7BtB,QA+BIhB,GAAa,GA/BjB,2DAL0B,sBAI1BgG,QAAQC,IAAIG,uKAmCZ,IAvC0B,EA2CtB3B,EAAQ,EA3Cc,eA4CVqB,GA5CU,IA4C1B,2BAA0B,CAAC,IAAhB3F,EAAe,QACtBsE,GAAgBtE,EAAEZ,MAAQY,EAAEnE,QA7CN,8BA+C1B,IAAMd,EAAcuJ,EAEpB,OACI,eAAC,EAAD,CAAOlD,QAAShH,EAAMgH,QAAtB,UACKxB,EACG,2CAEA,gCACI,4DACA,yCACA,uBACIrD,UAAWR,IAAQmK,WACnBnD,SApBA,SAACF,GACjBT,EAAQS,EAAEG,OAAOvE,QAoBDA,MAAOc,IAEVA,EAAKpD,OAAS,GAAuB,IAAlBwJ,EAASxJ,QACzB,wBACII,UAAWR,IAAQoK,QACnB3J,QAjEE,2CA+DN,6BAUZ,oBAAID,UAAWR,IAAQ,cAAvB,SACC4J,EAAS5E,KAAI,SAAC8B,GACX,OAAO,cAAC,EAAD,CAEHtD,KAAMsD,EAAEtD,KACR1D,OAAQgH,EAAEhH,OACVuD,MAAOyD,EAAEzD,MACT2C,WAAW,GAJNc,EAAExC,UAQf,sBAAK9D,UAAWR,IAAQuI,MAAxB,UACI,gDACA,+BAAOvJ,OAEX,qBAAKwB,UAAWR,IAAQiG,QAAxB,SACI,wBAAQxF,QAASpC,EAAMgH,QAAS7E,UAAWR,IAAQC,OAAnD,yBCvDDoK,OAhCf,WACE,MAAsC9K,oBAAS,GAA/C,mBAAO+K,EAAP,KAAoBC,EAApB,KACA,EAAwChL,oBAAS,GAAjD,mBAAOiL,EAAP,KAAqBC,EAArB,KAkBA,OACE,eAAC,GAAD,WACGD,GAAgB,cAAC,GAAD,CAAYnF,QANR,WACvBoF,GAAgB,MAMbH,GAAe,cAAC,EAAD,CAAMjF,QAfF,WACtBkF,GAAe,MAeb,cAAC,EAAD,CAAQxJ,aAZc,WACxB0J,GAAgB,IAW2BzJ,WApBrB,WACtBuJ,GAAe,MAoBb,+BACE,cAAC,EAAD,UC7BR1E,IAAS6E,OAAO,cAAC,GAAD,IAAShF,SAASC,eAAe,W","file":"static/js/main.d3a367f9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-items\":\"Cart_cart-items__3pqCn\",\"sent\":\"Cart_sent__lcmuw\",\"total\":\"Cart_total__3Hf6H\",\"actions\":\"Cart_actions__2ySOC\",\"button--alt\":\"Cart_button--alt__2i6Ia\",\"button\":\"Cart_button__3G6EA\",\"error\":\"Cart_error__fL7ps\",\"inputfetch\":\"Cart_inputfetch__WLPF8\",\"buttonf\":\"Cart_buttonf__4CLi3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"HeaderCartButton_button__1Fo_U\",\"icon\":\"HeaderCartButton_icon__kOe8u\",\"badge\":\"HeaderCartButton_badge__2SI_e\",\"bump\":\"HeaderCartButton_bump__Q7grV\",\"optional\":\"HeaderCartButton_optional__3A4xm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-item\":\"CartItem_cart-item__zQ4rE\",\"summary\":\"CartItem_summary__j6QK7\",\"price\":\"CartItem_price__160pf\",\"amount\":\"CartItem_amount__Eqv_S\",\"actions\":\"CartItem_actions__3-tb2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__7aZoG\",\"main-image\":\"Header_main-image__9WzYN\",\"optional\":\"Header_optional__2Ec5v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meal\":\"MealItem_meal__3JrRL\",\"description\":\"MealItem_description__1Lh5T\",\"price\":\"MealItem_price__3StRk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__FyZpc\",\"modal\":\"Modal_modal__2RTz3\",\"slide-down\":\"Modal_slide-down__DIMBZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"summary\":\"MealsSummary_summary__3SgxE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__wj4uF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__2UfX1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"MealItemForm_form__2nyRr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meals\":\"AvailableMeals_meals__1QPDo\",\"meals-appear\":\"AvailableMeals_meals-appear__2UM-o\"};","const CartIcon = (props) => {\n    if (props.icon === '1') {\n        return (\n            <svg\n                xmlns='http://www.w3.org/2000/svg'\n                viewBox='0 0 20 20'\n                fill='currentColor'\n            >\n                <path d='M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z' />\n            </svg>\n        );\n    } else {\n        return <i class=\"fa-solid fa-dumpster-fire\"></i>;\n    }\n};\n\nexport default CartIcon;\n","import React from 'react';\n\nconst CartContext = React.createContext({\n  items: [],\n  totalAmount: 0,\n  addItem: (item) => {},\n  removeItem: (id) => {},\n  clearItems: () => {}\n});\n\nexport default CartContext;","import { Fragment, useContext, useEffect, useState } from 'react';\n\nimport CartIcon from '../Cart/CartIcon';\nimport CartContext from '../../store/cart-context';\nimport classes from './HeaderCartButton.module.css';\n\nconst HeaderCartButton = (props) => {\n    const [btnIsHighlighted, setBtnIsHighlighted] = useState(false);\n    const cartCtx = useContext(CartContext);\n\n    const { items } = cartCtx;\n\n    const numberOfCartItems = items.reduce((curNumber, item) => {\n        return curNumber + item.amount;\n    }, 0);\n\n    const btnClasses = `${classes.button} ${\n        btnIsHighlighted ? classes.bump : ''\n    }`;\n\n    useEffect(() => {\n        if (items.length === 0) {\n            return;\n        }\n        setBtnIsHighlighted(true);\n\n        const timer = setTimeout(() => {\n            setBtnIsHighlighted(false);\n        }, 300);\n\n        return () => {\n            clearTimeout(timer);\n        };\n    }, [items]);\n\n    return (\n        <Fragment>\n            <button className={btnClasses} onClick={props.onOrders}>\n                <span className={`${classes.icon} ${classes.optional}`}>\n                    <CartIcon icon='2' />\n                    \n                </span>\n                <span >Your Orders</span>\n            </button>\n            <button className={btnClasses} onClick={props.onClick}>\n                <span className={`${classes.icon} ${classes.optional}`}>\n                    <CartIcon icon='1' />\n                </span>\n                <span>Your Cart</span>\n                <span className={classes.badge}>{numberOfCartItems}</span>\n            </button>\n        </Fragment>\n    );\n};\n\nexport default HeaderCartButton;\n","export default __webpack_public_path__ + \"static/media/meals.2971f633.jpg\";","import { Fragment } from 'react';\n\nimport HeaderCartButton from './HeaderCartButton';\nimport mealsImage from '../../assets/meals.jpg';\nimport classes from './Header.module.css';\n\nconst Header = (props) => {\n  return (\n    <Fragment>\n      <header className={classes.header}>\n        <h1 className={classes.optional}>ReactMeals</h1>\n        <HeaderCartButton onOrders={props.onShowOrders} onClick={props.onShowCart} />\n      </header>\n      <div className={classes['main-image']}>\n        <img src={mealsImage} alt='A table full of delicious food!' />\n      </div>\n    </Fragment>\n  );\n};\n\nexport default Header;\n","import classes from './MealsSummary.module.css';\n\nconst MealsSummary = () => {\n  return (\n    <section className={classes.summary}>\n      <h2>Delicious Food, Delivered To You</h2>\n      <p>\n        Choose your favorite meal from our broad selection of available meals\n        and enjoy a delicious lunch or dinner at home.\n      </p>\n      <p>\n        All our meals are cooked with high-quality ingredients, just-in-time and\n        of course by experienced chefs!\n      </p>\n    </section>\n  );\n};\n\nexport default MealsSummary;\n","import classes from './Card.module.css';\n\nconst Card = props => {\n  return <div className={classes.card}>{props.children}</div>\n};\n\nexport default Card;","import React from 'react';\n\nimport classes from './Input.module.css';\n\nconst Input = React.forwardRef((props, ref) => {\n  return (\n    <div className={classes.input}>\n      <label htmlFor={props.input.id}>{props.label}</label>\n      <input ref={ref} {...props.input} />\n    </div>\n  );\n});\n\nexport default Input;\n","import { useRef, useState } from 'react';\n\nimport Input from '../../UI/Input';\nimport classes from './MealItemForm.module.css';\n\nconst MealItemForm = (props) => {\n  const [amountIsValid, setAmountIsValid] = useState(true);\n  const amountInputRef = useRef();\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n\n    const enteredAmount = amountInputRef.current.value;\n    const enteredAmountNumber = +enteredAmount;\n\n    if (\n      enteredAmount.trim().length === 0 ||\n      enteredAmountNumber < 1 ||\n      enteredAmountNumber > 5\n    ) {\n      setAmountIsValid(false);\n      return;\n    }\n\n    props.onAddToCart(enteredAmountNumber);\n  };\n\n  return (\n    <form className={classes.form} onSubmit={submitHandler}>\n      <Input\n        ref={amountInputRef}\n        label='Amount'\n        input={{\n          id: 'amount',\n          type: 'number',\n          min: '1',\n          max: '5',\n          step: '1',\n          defaultValue: '1',\n        }}\n      />\n      <button>+ Add</button>\n      {!amountIsValid && <p>Please enter a valid amount (1-5).</p>}\n    </form>\n  );\n};\n\nexport default MealItemForm;\n","import { useContext } from 'react';\n\nimport MealItemForm from './MealItemForm';\nimport classes from './MealItem.module.css';\nimport CartContext from '../../../store/cart-context';\n\nconst MealItem = (props) => {\n  const cartCtx = useContext(CartContext);\n\n  const price = `$${props.price.toFixed(2)}`;\n\n  const addToCartHandler = amount => {\n    cartCtx.addItem({\n      id: props.id,\n      name: props.name,\n      amount: amount,\n      price: props.price\n    });\n  };\n\n  return (\n    <li className={classes.meal}>\n      <div>\n        <h3>{props.name}</h3>\n        <div className={classes.description}>{props.description}</div>\n        <div className={classes.price}>{price}</div>\n      </div>\n      <div>\n        <MealItemForm onAddToCart={addToCartHandler} />\n      </div>\n    </li>\n  );\n};\n\nexport default MealItem;\n","import Card from '../UI/Card';\nimport MealItem from './MealItem/MealItem';\nimport classes from './AvailableMeals.module.css';\nimport React from 'react';\n\nconst AvailableMeals = () => {\n    const [DUMMY_MEALS, setDummys] = React.useState([]);\n    const [isLoading, setIsLoading] = React.useState(true);\n    const [hasError, setHasError] = React.useState('');\n\n    async function fetchingMeals() {\n        const response = await fetch(\n            'https://react-http-467cc-default-rtdb.firebaseio.com/meals.json'\n        );\n        if (!response.ok) {\n            setHasError('Error while fetching');\n        }\n        const data = await response.json();\n        const smth = [];\n        for (const key in data) {\n            smth.push({ ...data[key], id: key });\n        }\n        setDummys(smth);\n        setIsLoading(false);\n    }\n\n    React.useEffect(\n        React.useCallback(() => {\n            fetchingMeals().catch((error) => {\n                setIsLoading(false);\n                setHasError(error.message);\n            });\n        }),\n        []\n    );\n\n    const mealsList = React.useCallback(\n        DUMMY_MEALS.map((meal) => (\n            <MealItem\n                key={meal.id}\n                id={meal.id}\n                name={meal.name}\n                description={meal.description}\n                price={meal.price}\n            />\n        )),\n        [DUMMY_MEALS]\n    );\n\n    return (\n        <section className={classes.meals}>\n            <Card>\n                {!hasError ? (\n                    isLoading ? (\n                        <p>Loading...</p>\n                    ) : (\n                        <ul>{mealsList}</ul>\n                    )\n                ) : (\n                    <p>{hasError}</p>\n                )}\n            </Card>\n        </section>\n    );\n};\n\nexport default AvailableMeals;\n","import { Fragment } from 'react';\n\nimport MealsSummary from './MealsSummary';\nimport AvailableMeals from './AvailableMeals';\n\nconst Meals = () => {\n  return (\n    <Fragment>\n      <MealsSummary />\n      <AvailableMeals />\n    </Fragment>\n  );\n};\n\nexport default Meals;\n","import { Fragment } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport classes from './Modal.module.css';\n\nconst Backdrop = (props) => {\n  return <div className={classes.backdrop} onClick={props.onClose}/>;\n};\n\nconst ModalOverlay = (props) => {\n  return (\n    <div className={classes.modal}>\n      <div className={classes.content}>{props.children}</div>\n    </div>\n  );\n};\n\nconst portalElement = document.getElementById('overlays');\n\nconst Modal = (props) => {\n  return (\n    <Fragment>\n      {ReactDOM.createPortal(<Backdrop onClose={props.onClose} />, portalElement)}\n      {ReactDOM.createPortal(\n        <ModalOverlay>{props.children}</ModalOverlay>,\n        portalElement\n      )}\n    </Fragment>\n  );\n};\n\nexport default Modal;\n","import classes from './CartItem.module.css';\n\nconst CartItem = (props) => {\n    const price = `$${props.price.toFixed(2)}`;\n\n    return (\n        <li className={classes['cart-item']}>\n            <div>\n                <h2>{props.name}</h2>\n                <div className={classes.summary}>\n                    <span className={classes.price}>{price}</span>\n                    <span className={classes.amount}>x {props.amount}</span>\n                </div>\n            </div>\n            {props.changable && (\n                <div className={classes.actions}>\n                    <button onClick={props.onRemove}>−</button>\n                    <button onClick={props.onAdd}>+</button>\n                </div>\n            )}\n        </li>\n    );\n};\n\nexport default CartItem;\n","import React from 'react';\r\nimport classes from './Cart.module.css';\r\n\r\nconst Checkout = (props) => {\r\n    const [name, setName] = React.useState('');\r\n    const [street, setStreet] = React.useState('');\r\n    const [postal, setPostal] = React.useState(0);\r\n    const [city, setCity] = React.useState('');\r\n    const [formIsTouched, setFormIsTouched] = React.useState(false);\r\n    const [hasError, setHasError] = React.useState({\r\n        name: false,\r\n        street: false,\r\n        postal: false,\r\n        city: false,\r\n    });\r\n\r\n    const nameInputHandler = (e) => {\r\n        setFormIsTouched(true);\r\n        setName(e.target.value);\r\n        if (e.target.value.length <= 4) {\r\n            setHasError({ ...hasError, name: true });\r\n        } else setHasError({ ...hasError, name: false });\r\n    };\r\n    const streetInputHandler = (e) => {\r\n        setFormIsTouched(true);\r\n        setStreet(e.target.value);\r\n        if (e.target.value.length <= 5) {\r\n            setHasError({ ...hasError, name: false, street: true });\r\n        } else setHasError({ ...hasError, street: false });\r\n    };\r\n    const postalInputHandler = (e) => {\r\n        setFormIsTouched(true);\r\n        setPostal(e.target.value);\r\n        if (e.target.value <= 1000) {\r\n            setHasError({\r\n                ...hasError,\r\n                postal: true,\r\n            });\r\n        } else\r\n            setHasError({\r\n                ...hasError,\r\n                postal: false,\r\n            });\r\n    };\r\n    const cityInputHandler = (e) => {\r\n        setFormIsTouched(true);\r\n        setCity(e.target.value);\r\n        if (e.target.value.length <= 1) {\r\n            setHasError({\r\n                ...hasError,\r\n                city: true,\r\n            });\r\n        } else\r\n            setHasError({\r\n                ...hasError,\r\n                city: false,\r\n            });\r\n    };\r\n\r\n    const submitionHandler = (e) => {\r\n        e.preventDefault();\r\n        if (!formIsTouched) {\r\n            setHasError({\r\n                name: true,\r\n                street: true,\r\n                postal: true,\r\n                city: true,\r\n            });\r\n            return;\r\n        }\r\n        if (\r\n            hasError.name === false &&\r\n            hasError.street === false &&\r\n            hasError.postal === false &&\r\n            hasError.city === false\r\n        ) {\r\n            props.onConfirm({\r\n                name: name,\r\n                street: street,\r\n                postal: postal,\r\n                city: city,\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={submitionHandler}>\r\n            <div>\r\n                <label>Name</label>\r\n                <input\r\n                    onChange={nameInputHandler}\r\n                    value={name}\r\n                    type='text'\r\n                ></input>\r\n                {hasError.name && (\r\n                    <p className={classes.error}>Your name must be longer</p>\r\n                )}\r\n            </div>\r\n            <div>\r\n                <label>Street</label>\r\n                <input\r\n                    onChange={streetInputHandler}\r\n                    value={street}\r\n                    type='text'\r\n                ></input>\r\n                {hasError.street && (\r\n                    <p className={classes.error}>Street must be longer</p>\r\n                )}\r\n            </div>\r\n            <div>\r\n                <label>Postal Code</label>\r\n                <input\r\n                    onChange={postalInputHandler}\r\n                    value={postal}\r\n                    type='number'\r\n                ></input>\r\n                {hasError.postal && (\r\n                    <p className={classes.error}>Something is wrong</p>\r\n                )}\r\n            </div>\r\n            <div>\r\n                <label>City</label>\r\n                <input\r\n                    onChange={cityInputHandler}\r\n                    value={city}\r\n                    type='text'\r\n                ></input>\r\n                {hasError.city && (\r\n                    <p className={classes.error}>City must be longer</p>\r\n                )}\r\n            </div>\r\n            <div className={classes.actions}>\r\n                <button onClick={props.onCancel} className={classes.button}>\r\n                    Cancel\r\n                </button>\r\n                <button type='submit' className={classes.button}>\r\n                    Confirm\r\n                </button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default Checkout;\r\n","import { useContext, useState } from 'react';\n\nimport Modal from '../UI/Modal';\nimport CartItem from './CartItem';\nimport classes from './Cart.module.css';\nimport CartContext from '../../store/cart-context';\nimport Checkout from './Checkout';\n\nconst Cart = (props) => {\n    const cartCtx = useContext(CartContext);\n    const [orderWasSent, setOrderWasSent] = useState(false);\n    const [posted, setPosted] = useState('');\n\n    const totalAmount = `$${cartCtx.totalAmount.toFixed(2)}`;\n    const hasItems = cartCtx.items.length > 0;\n\n    const cartItemRemoveHandler = (id) => {\n        cartCtx.removeItem(id);\n    };\n\n    const cartItemAddHandler = (item) => {\n        cartCtx.addItem(item);\n        setOrderWasSent(false);\n    };\n\n    const cartItems = (\n        <ul className={classes['cart-items']}>\n            {cartCtx.items.map((item) => (\n                <CartItem\n                    key={item.id}\n                    name={item.name}\n                    amount={item.amount}\n                    price={item.price}\n                    changable={true}\n                    onRemove={cartItemRemoveHandler.bind(null, item.id)}\n                    onAdd={cartItemAddHandler.bind(null, item)}\n                />\n            ))}\n        </ul>\n    );\n\n    async function postingOrder() {\n        setPosted('');\n        setOrderWasSent(true);\n    }\n\n    async function confirmation(e) {\n        setOrderWasSent(false);\n        const user = [];\n        for (const key in e) {\n            user.push(e[key]);\n        }\n        const [name, street, postal, city] = user;\n        const order = {\n            id: Date.now(),\n            name: name,\n            street: street,\n            postal: postal,\n            city: city,\n        };\n        const response = await fetch(\n            'https://react-http-467cc-default-rtdb.firebaseio.com/orders.json',\n            {\n                method: 'POST',\n                body: JSON.stringify({order: cartCtx.items, user: order}),\n                headers: { 'Content-Type': 'application/json' },\n            }\n        );\n        if (response.ok) {\n            cartCtx.clearItems();\n            setPosted(<p className={classes.sent}>Your order was updated</p>)\n        }\n    };\n    const cancelation = (e) => {\n        e.preventDefault();\n        props.onClose();\n    };\n\n    const sent = <p className={classes.sent}>Your order has been updated!</p>;\n\n    return (\n        <Modal onClose={props.onClose}>\n            {cartItems}\n            <div className={classes.total}>\n                <span>Total Amount</span>\n                <span>{totalAmount}</span>\n            </div>\n            {!orderWasSent && (\n                <div className={classes.actions}>\n                    <button\n                        className={classes['button--alt']}\n                        onClick={props.onClose}\n                    >\n                        Close\n                    </button>\n                    {hasItems && (\n                        <button\n                            onClick={postingOrder}\n                            className={classes.button}\n                        >\n                            Order\n                        </button>\n                    )}\n                </div>\n            )}\n            {posted}\n            {orderWasSent && (\n                <Checkout onCancel={cancelation} onConfirm={confirmation} />\n            )}\n        </Modal>\n    );\n};\n\nexport default Cart;\n","import { useReducer } from 'react';\n\nimport CartContext from './cart-context';\n\nconst defaultCartState = {\n  items: [],\n  totalAmount: 0,\n};\n\nconst cartReducer = (state, action) => {\n  if (action.type === 'ADD') {\n    const updatedTotalAmount =\n      state.totalAmount + action.item.price * action.item.amount;\n\n    const existingCartItemIndex = state.items.findIndex(\n      (item) => item.id === action.item.id\n    );\n    const existingCartItem = state.items[existingCartItemIndex];\n    let updatedItems;\n\n    if (existingCartItem) {\n      const updatedItem = {\n        ...existingCartItem,\n        amount: existingCartItem.amount + action.item.amount,\n      };\n      updatedItems = [...state.items];\n      updatedItems[existingCartItemIndex] = updatedItem;\n    } else {\n      updatedItems = state.items.concat(action.item);\n    }\n\n    return {\n      items: updatedItems,\n      totalAmount: updatedTotalAmount,\n    };\n  }\n  if (action.type === 'REMOVE') {\n    const existingCartItemIndex = state.items.findIndex(\n      (item) => item.id === action.id\n    );\n    const existingItem = state.items[existingCartItemIndex];\n    const updatedTotalAmount = state.totalAmount - existingItem.price;\n    let updatedItems;\n    if (existingItem.amount === 1) {\n      updatedItems = state.items.filter(item => item.id !== action.id);\n    } else {\n      const updatedItem = { ...existingItem, amount: existingItem.amount - 1 };\n      updatedItems = [...state.items];\n      updatedItems[existingCartItemIndex] = updatedItem;\n    }\n\n    return {\n      items: updatedItems,\n      totalAmount: updatedTotalAmount\n    };\n  }\n  if (action.type === 'CLEAR') {\n    return defaultCartState;\n  }\n\n  return defaultCartState;\n};\n\nconst CartProvider = (props) => {\n  const [cartState, dispatchCartAction] = useReducer(\n    cartReducer,\n    defaultCartState\n  );\n\n  const addItemToCartHandler = (item) => {\n    dispatchCartAction({ type: 'ADD', item: item });\n  };\n\n  const removeItemFromCartHandler = (id) => {\n    dispatchCartAction({ type: 'REMOVE', id: id });\n  };\n\n  const clearItemsFromCartHandler = () => {\n    dispatchCartAction({ type: 'CLEAR' });\n  };\n\n  const cartContext = {\n    items: cartState.items,\n    totalAmount: cartState.totalAmount,\n    addItem: addItemToCartHandler,\n    removeItem: removeItemFromCartHandler,\n    clearItems: clearItemsFromCartHandler,\n  };\n\n  return (\n    <CartContext.Provider value={cartContext}>\n      {props.children}\n    </CartContext.Provider>\n  );\n};\n\nexport default CartProvider;\n","import React from 'react';\r\nimport Modal from '../components/UI/Modal';\r\nimport classes from '../components/Cart/Cart.module.css';\r\nimport { useState } from 'react';\r\nimport CartItem from '../components/Cart/CartItem';\r\n\r\nconst OrdersCart = (props) => {\r\n    const [myOrders, setMyOrders] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [name, setName] = useState('');\r\n    console.log(process.env);\r\n    async function fetchOrdersHandler() {\r\n        setIsLoading(true);\r\n        try {\r\n            const response = await fetch(\r\n                'https://react-http-467cc-default-rtdb.firebaseio.com/orders.json'\r\n            );\r\n            if (response.ok) {\r\n                console.log('All right!');\r\n            }\r\n            const data = await response.json();\r\n\r\n            const loadedOrders = [];\r\n            let found = false;\r\n\r\n            for (const key in data) {\r\n                if (data[key].user.name === name && !found) {\r\n                    found = true;\r\n                }\r\n                if (found) {\r\n                    for (const item of data[key].order) {\r\n                        loadedOrders.push({\r\n                            ...item,\r\n                        });\r\n                    }\r\n                    setMyOrders(loadedOrders);\r\n                }\r\n            }\r\n\r\n        } catch (e) {\r\n            console.log(e.message);\r\n        }\r\n        setIsLoading(false);\r\n    }\r\n\r\n    const nameHandler = (e) => {\r\n        setName(e.target.value);\r\n    };\r\n\r\n    let total = 0;\r\n    for (const a of myOrders) {\r\n        total = total + a.price * a.amount;\r\n    }\r\n    const totalAmount = total;\r\n\r\n    return (\r\n        <Modal onClose={props.onClose}>\r\n            {isLoading ? (\r\n                <p>Loading...</p>\r\n            ) : (\r\n                <div>\r\n                    <h2>Search to see your orders!</h2>\r\n                    <label>Name</label>\r\n                    <input\r\n                        className={classes.inputfetch}\r\n                        onChange={nameHandler}\r\n                        value={name}\r\n                    ></input>\r\n                    {name.length > 3 && myOrders.length===0 && (\r\n                        <button\r\n                            className={classes.buttonf}\r\n                            onClick={fetchOrdersHandler}\r\n                        >\r\n                            Fetch orders\r\n                        </button>\r\n                    )}\r\n                </div>\r\n                \r\n            )}\r\n            <ul className={classes['cart-items']}>\r\n            {myOrders.map((e) => {\r\n                return <CartItem\r\n                    key={e.key}\r\n                    name={e.name}\r\n                    amount={e.amount}\r\n                    price={e.price}\r\n                    changable={false}\r\n                />;\r\n            })}\r\n            </ul>\r\n            <div className={classes.total}>\r\n                <span>Total Amount</span>\r\n                <span>{totalAmount}</span>\r\n            </div>\r\n            <div className={classes.actions}>\r\n                <button onClick={props.onClose} className={classes.button}>\r\n                    Close\r\n                </button>\r\n            </div>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default OrdersCart;\r\n","import { useState } from 'react';\n\nimport Header from './components/Layout/Header';\nimport Meals from './components/Meals/Meals';\nimport Cart from './components/Cart/Cart';\nimport CartProvider from './store/CartProvider';\nimport OrdersCart from './store/OrdersCart';\n\nfunction App() {\n  const [cartIsShown, setCartIsShown] = useState(false);\n  const [orderIsShown, setOrderIsShown] = useState(false);\n\n  const showCartHandler = () => {\n    setCartIsShown(true);\n  };\n\n  const hideCartHandler = () => {\n    setCartIsShown(false);\n  };\n\n  const showOrdersHandler = () => {\n    setOrderIsShown(true);\n  };\n\n  const hideOrderHandler = () => {\n    setOrderIsShown(false);\n  };\n\n  return (\n    <CartProvider>\n      {orderIsShown && <OrdersCart onClose={hideOrderHandler} />}\n      {cartIsShown && <Cart onClose={hideCartHandler} />}\n      <Header onShowOrders={showOrdersHandler} onShowCart={showCartHandler} />\n      <main>\n        <Meals />\n      </main>\n    </CartProvider>\n  );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}